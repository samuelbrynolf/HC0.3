(function(a){a.fn.viewportChecker=function(b){var e={classToAdd:"visible",classToRemove:"invisible",offset:100,repeat:false,invertBottomOffset:true,callbackFunction:function(g,h){},scrollHorizontal:false};a.extend(e,b);var c=this,d={height:a(window).height(),width:a(window).width()},f=((navigator.userAgent.toLowerCase().indexOf("webkit")!=-1)?"body":"html");this.checkElements=function(){var h,g;if(!e.scrollHorizontal){h=a(f).scrollTop();g=(h+d.height)}else{h=a(f).scrollLeft();g=(h+d.width)}c.each(function(){var m=a(this),j={},l={};if(m.data("vp-add-class")){l.classToAdd=m.data("vp-add-class")}if(m.data("vp-remove-class")){l.classToRemove=m.data("vp-remove-class")}if(m.data("vp-offset")){l.offset=m.data("vp-offset")}if(m.data("vp-repeat")){l.repeat=m.data("vp-repeat")}if(m.data("vp-scrollHorizontal")){l.scrollHorizontal=m.data("vp-scrollHorizontal")}if(m.data("vp-invertBottomOffset")){l.scrollHorizontal=m.data("vp-invertBottomOffset")}a.extend(j,e);a.extend(j,l);if(m.hasClass(j.classToAdd)&&!j.repeat){return}var k=(!j.scrollHorizontal)?Math.round(m.offset().top)+j.offset:Math.round(m.offset().left)+j.offset,i=(!j.scrollHorizontal)?k+m.height():k+m.width();if(j.invertBottomOffset){i-=(j.offset*2)}if((k<g)&&(i>h)){m.removeClass(j.classToRemove);m.addClass(j.classToAdd);j.callbackFunction(m,"add")}else{if(m.hasClass(j.classToAdd)&&(j.repeat)){m.removeClass(j.classToAdd);j.callbackFunction(m,"remove")}}})};a(window).bind("load scroll touchmove MSPointerMove",this.checkElements);a(window).resize(function(g){d={height:a(window).height(),width:a(window).width()},c.checkElements()});this.checkElements();return this}})(jQuery);(function(b,a){b.lazySizes=a(b,b.document);if(typeof define==="function"&&define.amd){define(b.lazySizes)}}(window,function(h,n){if(!n.getElementsByClassName){return}var b;var q=n.documentElement;var m=/^picture$/i;var l=["load","error","lazyincluded","_lazyloaded"];var c=function(u,s){var t=new RegExp("(\\s|^)"+s+"(\\s|$)");return u.className.match(t)&&t};var j=function(t,s){if(!c(t,s)){t.className+=" "+s}};var k=function(u,s){var t;if((t=c(u,s))){u.className=u.className.replace(t," ")}};var f=function(v,s,u){var t=u?"addEventListener":"removeEventListener";if(u){f(v,s)}l.forEach(function(w){v[t](w,s)})};var d=function(w,t,u,s,x){var v=n.createEvent("Event");v.initEvent(t,!s,!x);v.details=u||{};w.dispatchEvent(v);return v};var r=function(t,s){var u;if(!h.HTMLPictureElement){if((u=(h.picturefill||h.respimage||b.polyfill))){u({reevaluate:true,reparse:true,elements:[t]})}else{if(s&&s.src){t.src=s.src}}}};var o=function(t,s){return getComputedStyle(t,null)[s]};var e=function(u,t){var s=u.offsetWidth;while(s<b.minSize&&t&&!u._lazysizesWidth){s=t.offsetWidth;t=t.parentNode}return s};var g=function(t){var v,w;var s=function(){if(v){v=false;t()}};var u=function(){clearInterval(w);if(!n.hidden){s();w=setInterval(s,51)}};n.addEventListener("visibilitychange",u);u();return function(x){v=true;if(x===true){s()}}};var i=(function(){var y,P,C,w,M;var D,E,v,F,s,V;var R=h.HTMLPictureElement&&navigator.userAgent.match(/hrome\/(\d+)/)&&(RegExp.$1==40);var X=/^img$/i;var G=/^iframe$/i;var K=("onscroll" in h);var U=-2;var N=U;var W=U;var L=U;var I=0;var Q=0;var A=0;var J=function(Y){Q--;if(Y&&Y.target){f(Y.target,J)}if(!Y||Q<0||!Y.target){Q=0}};var x=function(ab,aa){var Y;var Z=ab;var ac=o(ab,"visibility")!="hidden";v-=aa;V+=aa;F-=aa;s+=aa;while(ac&&(Z=Z.offsetParent)){ac=(w&&Q<2)||((o(Z,"opacity")||1)>0);if(ac&&o(Z,"overflow")!="visible"){Y=Z.getBoundingClientRect();ac=s>Y.left-1&&F<Y.right+1&&V>Y.top-1&&v<Y.bottom+1}}return ac};var T=function(){var ad,aa,af,Z,ae,Y,ah,ab,ac;var ag=P.length;if(ag&&i.m){aa=Date.now();if(!y){O()}ad=A;for(;ad<ag;ad++,A++){if(!P[ad]||P[ad]._lazyRace){continue}if(!K){t(P[ad]);continue}if(!(ab=P[ad].getAttribute("data-expand"))||!(Y=ab*1)){Y=L}if(Q>6&&(!ab||("src" in P[ad]))){continue}if(Y>U&&(i.m<2||Q>3)){Y=U}if(ac!==Y){D=innerWidth+Y;E=innerHeight+Y;ah=Y*-1;ac=Y}af=P[ad].getBoundingClientRect();if((V=af.bottom)>=ah&&(v=af.top)<=E&&(s=af.right)>=ah&&(F=af.left)<=D&&(V||s||F||v)&&((w&&L<W&&Q<3&&I<4&&!ab)||x(P[ad],Y))){A--;aa+=2;t(P[ad]);ae=true}else{if(Date.now()-aa>3){A++;z();return}if(!ae&&w&&!Z&&Q<3&&I<4&&(C[0]||b.preloadAfterLoad)&&(C[0]||(!ab&&((V||s||F||v)||P[ad].getAttribute(b.sizesAttr)!="auto")))){Z=C[0]||P[ad]}}}A=0;I++;if(L<W&&Q<2&&I>5&&i.m>2){L=W;I=0;z()}else{if(L!=N&&i.m>1&&I>4){L=N}else{L=U}}if(Z&&!ae){t(Z)}}};var z=g(T);var B=function(Y){j(Y.target,b.loadedClass);k(Y.target,b.loadingClass);f(Y.target,B)};var u=function(Y,aa){try{Y.contentWindow.location.replace(aa)}catch(Z){Y.setAttribute("src",aa)}};var t=function(ad,ab){var Z,ag,aj,ak,Y,af,am,an,aa,ac,al;var ai=ad.currentSrc||ad.src;var ae=X.test(ad.nodeName);var ao=ad.getAttribute(b.sizesAttr)||ad.getAttribute("sizes");var ah=ao=="auto";if((ah||!w)&&ae&&ai&&!ad.complete&&!c(ad,b.errorClass)){return}ad._lazyRace=true;if(!(aa=d(ad,"lazybeforeunveil",{force:!!ab})).defaultPrevented){if(ao){if(ah){a.updateElem(ad,true)}else{ad.setAttribute("sizes",ao)}}af=ad.getAttribute(b.srcsetAttr);Y=ad.getAttribute(b.srcAttr);if(ae){am=ad.parentNode;an=m.test(am.nodeName||"")}ac=aa.details.firesLoad||(("src" in ad)&&(af||Y||an));if(ac){Q++;f(ad,J,true);clearTimeout(M);M=setTimeout(J,3000)}if(an){Z=am.getElementsByTagName("source");for(ag=0,aj=Z.length;ag<aj;ag++){if((al=b.customMedia[Z[ag].getAttribute("data-media")||Z[ag].getAttribute("media")])){Z[ag].setAttribute("media",al)}ak=Z[ag].getAttribute(b.srcsetAttr);if(ak){Z[ag].setAttribute("srcset",ak)}}}if(af){ad.setAttribute("srcset",af);if(R&&ao){ad.removeAttribute("src")}}else{if(Y){if(G.test(ad.nodeName)){u(ad,Y)}else{ad.setAttribute("src",Y)}}}j(ad,b.loadingClass);f(ad,B,true)}setTimeout(function(){if(ad._lazyRace){delete ad._lazyRace}if(ao=="auto"){j(ad,b.autosizesClass)}if(af||an){r(ad,{src:Y})}k(ad,b.lazyClass);if(!ac||(ad.complete&&ai==(ad.currentSrc||ad.src))){if(ac){J(aa)}B(aa)}ad=null})};var O=function(){if(!y){N=Math.max(Math.min(b.expand||140,300),9);W=N*4}y=true};var H=function(){i.m=3};var S=function(){w=true;I+=6;H();z(true)};return{_i:function(){P=n.getElementsByClassName(b.lazyClass);C=n.getElementsByClassName(b.lazyClass+" "+b.preloadClass);if(b.scroll){addEventListener("scroll",z,true)}addEventListener("resize",function(){y=false;z()},true);if(h.MutationObserver){new MutationObserver(z).observe(q,{childList:true,subtree:true,attributes:true})}else{q.addEventListener("DOMNodeInserted",z,true);q.addEventListener("DOMAttrModified",z,true);setInterval(z,3000)}addEventListener("hashchange",z,true);["transitionstart","transitionend","load","focus","mouseover","animationend","click"].forEach(function(Y){n.addEventListener(Y,z,true)});if(!(w=/d$|^c/.test(n.readyState))){addEventListener("load",S);n.addEventListener("DOMContentLoaded",z)}setTimeout(H,777);z(P.length>0)},m:1,checkElems:z,unveil:t}})();var a=(function(){var u;var t=function(C,D){var A,x,y,w,B;var z=C.parentNode;if(z){A=e(C,z);B=d(C,"lazybeforesizes",{width:A,dataAttr:!!D});if(!B.defaultPrevented){A=B.details.width;if(A&&A!==C._lazysizesWidth){C._lazysizesWidth=A;A+="px";C.setAttribute("sizes",A);if(m.test(z.nodeName||"")){x=z.getElementsByTagName("source");for(y=0,w=x.length;y<w;y++){x[y].setAttribute("sizes",A)}}if(!B.details.dataAttr){r(C,B.details)}}}}};var v=function(){var x;var w=u.length;if(w){x=0;for(;x<w;x++){t(u[x])}}};var s=g(v);return{_i:function(){u=n.getElementsByClassName(b.autosizesClass);addEventListener("resize",s)},checkElems:s,updateElem:t}})();var p=function(){if(!p.i){p.i=true;a._i();i._i()}};(function(){var t;var s={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",scroll:true,autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:50,customMedia:{},init:true};b=h.lazySizesConfig||{};for(t in s){if(!(t in b)){b[t]=s[t]}}h.lazySizesConfig=b;setTimeout(function(){if(b.init){p()}})})();return{cfg:b,autoSizer:a,loader:i,init:p,uP:r,aC:j,rC:k,hC:c,fire:d,gW:e}}));(function(a){a.fn.fitVids=function(b){var c={customSelector:null};if(!document.getElementById("fit-vids-style")){var f=document.createElement("div"),d=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0],e="&shy;<style>.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>";f.className="fit-vids-style";f.id="fit-vids-style";f.style.display="none";f.innerHTML=e;d.parentNode.insertBefore(f,d)}if(b){a.extend(c,b)}return this.each(function(){var g=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];if(c.customSelector){g.push(c.customSelector)}var h=a(this).find(g.join(","));h=h.not("object object");h.each(function(){var m=a(this);if(this.tagName.toLowerCase()==="embed"&&m.parent("object").length||m.parent(".fluid-width-video-wrapper").length){return}var i=(this.tagName.toLowerCase()==="object"||(m.attr("height")&&!isNaN(parseInt(m.attr("height"),10))))?parseInt(m.attr("height"),10):m.height(),j=!isNaN(parseInt(m.attr("width"),10))?parseInt(m.attr("width"),10):m.width(),k=i/j;if(!m.attr("id")){var l="fitvid"+Math.floor(Math.random()*999999);m.attr("id",l)}m.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",(k*100)+"%");m.removeAttr("height").removeAttr("width")})})}})(window.jQuery);(function(b,a){b('<div id="getActiveMQ-watcher"></div>').appendTo("body").hide();a.getActiveMQ=function(){var d=a.getComputedStyle,c=document.getElementById("getActiveMQ-watcher");if("currentStyle" in c){a.getActiveMQ=function(){return c.currentStyle.fontFamily.replace(/['"]/g,"")}}else{if(d){a.getActiveMQ=function(){return d(c,null).getPropertyValue("font-family").replace(/['"]/g,"")}}else{a.getActiveMQ=function(){return"unknown"}}}return a.getActiveMQ()}}(jQuery,window));
/*!
* Parsleyjs
* Guillaume Potier - <guillaume@wisembly.com>
* Version 2.0.7 - built Sat Jan 24 2015 14:50:11
* MIT Licensed
*
*/
;!(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(l){if("undefined"===typeof l&&"undefined"!==typeof window.jQuery){l=window.jQuery}var f={attr:function(o,s,v){var u,w={},q=this.msieversion(),t=new RegExp("^"+s,"i");if("undefined"===typeof o||"undefined"===typeof o[0]){return{}}for(var r in o[0].attributes){u=o[0].attributes[r];if("undefined"!==typeof u&&null!==u&&(!q||q>=8||u.specified)&&t.test(u.name)){if("undefined"!==typeof v&&new RegExp(v+"$","i").test(u.name)){return true}w[this.camelize(u.name.replace(s,""))]=this.deserializeValue(u.value)}}return"undefined"===typeof v?w:false},setAttr:function(q,r,o,s){q[0].setAttribute(this.dasherize(r+o),String(s))},get:function(r,q){var o=0,s=(q||"").split(".");while(this.isObject(r)||this.isArray(r)){r=r[s[o++]];if(o===s.length){return r}}return undefined},hash:function(o){return String(Math.random()).substring(2,o?o+2:9)},isArray:function(o){return Object.prototype.toString.call(o)==="[object Array]"},isObject:function(o){return o===Object(o)},deserializeValue:function(q){var o;try{return q?q=="true"||(q=="false"?false:q=="null"?null:!isNaN(o=Number(q))?o:/^[\[\{]/.test(q)?l.parseJSON(q):q):q}catch(r){return q}},camelize:function(o){return o.replace(/-+(.)?/g,function(q,r){return r?r.toUpperCase():""})},dasherize:function(o){return o.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()},msieversion:function(){var q=window.navigator.userAgent,o=q.indexOf("MSIE ");if(o>0||!!navigator.userAgent.match(/Trident.*rv\:11\./)){return parseInt(q.substring(o+5,q.indexOf(".",o)),10)}return 0}};var k={namespace:"data-parsley-",inputs:"input, textarea, select",excluded:"input[type=button], input[type=submit], input[type=reset], input[type=hidden]",priorityEnabled:true,uiEnabled:true,validationThreshold:3,focus:"first",trigger:false,errorClass:"parsley-error",successClass:"parsley-success",classHandler:function(o){},errorsContainer:function(o){},errorsWrapper:'<ul class="parsley-errors-list"></ul>',errorTemplate:"<li></li>"};var b=function(){};b.prototype={asyncSupport:false,actualizeOptions:function(){this.options=this.OptionsFactory.get(this);return this},validateThroughValidator:function(q,r,o){return window.ParsleyValidator.validate(q,r,o)},subscribe:function(o,q){l.listenTo(this,o.toLowerCase(),q);return this},unsubscribe:function(o){l.unsubscribeTo(this,o.toLowerCase());return this},reset:function(){if("ParsleyForm"!==this.__class__){return l.emit("parsley:field:reset",this)}for(var o=0;o<this.fields.length;o++){l.emit("parsley:field:reset",this.fields[o])}l.emit("parsley:form:reset",this)},destroy:function(){if("ParsleyForm"!==this.__class__){this.$element.removeData("Parsley");this.$element.removeData("ParsleyFieldMultiple");l.emit("parsley:field:destroy",this);return}for(var o=0;o<this.fields.length;o++){this.fields[o].destroy()}this.$element.removeData("Parsley");l.emit("parsley:form:destroy",this)}};
/*!
* validator.js
* Guillaume Potier - <guillaume@wisembly.com>
* Version 1.0.0 - built Sun Aug 03 2014 17:42:31
* MIT Licensed
*
*/
;var h=(function(){var r={};var t=function(w){this.__class__="Validator";this.__version__="1.0.0";this.options=w||{};this.bindingKey=this.options.bindingKey||"_validatorjsConstraint"};t.prototype={constructor:t,validate:function(w,x,y){if("string"!==typeof w&&"object"!==typeof w){throw new Error("You must validate an object or a string")}if("string"===typeof w||o(w)){return this._validateString(w,x,y)}if(this.isBinded(w)){return this._validateBindedObject(w,x)}return this._validateObject(w,x,y)},bind:function(w,x){if("object"!==typeof w){throw new Error("Must bind a Constraint to an object")}w[this.bindingKey]=new s(x);return this},unbind:function(w){if("undefined"===typeof w._validatorjsConstraint){return this}delete w[this.bindingKey];return this},isBinded:function(w){return"undefined"!==typeof w[this.bindingKey]},getBinded:function(w){return this.isBinded(w)?w[this.bindingKey]:null},_validateString:function(y,x,B){var w,A=[];if(!o(x)){x=[x]}for(var z=0;z<x.length;z++){if(!(x[z] instanceof v)){throw new Error("You must give an Assert or an Asserts array to validate a string")}w=x[z].check(y,B);if(w instanceof q){A.push(w)}}return A.length?A:true},_validateObject:function(w,y,x){if("object"!==typeof y){throw new Error("You must give a constraint to validate an object")}if(y instanceof s){return y.check(w,x)}return new s(y).check(w,x)},_validateBindedObject:function(w,x){return w[this.bindingKey].check(w,x)}};t.errorCode={must_be_a_string:"must_be_a_string",must_be_an_array:"must_be_an_array",must_be_a_number:"must_be_a_number",must_be_a_string_or_array:"must_be_a_string_or_array"};var s=function(y,w){this.__class__="Constraint";this.options=w||{};this.nodes={};if(y){try{this._bootstrap(y)}catch(x){throw new Error("Should give a valid mapping object to Constraint",x,y)}}};s.prototype={constructor:s,check:function(A,D){var F,x={};for(var E in this.nodes){var B=false;var w=this.get(E);var z=o(w)?w:[w];for(var C=z.length-1;C>=0;C--){if("Required"===z[C].__class__){B=z[C].requiresValidation(D);continue}}if(!this.has(E,A)&&!this.options.strict&&!B){continue}try{if(!this.has(E,this.options.strict||B?A:undefined)){new v().HaveProperty(E).validate(A)}F=this._check(E,A[E],D);if((o(F)&&F.length>0)||(!o(F)&&!u(F))){x[E]=F}}catch(y){x[E]=y}}return u(x)?true:x},add:function(x,w){if(w instanceof v||(o(w)&&w[0] instanceof v)){this.nodes[x]=w;return this}if("object"===typeof w&&!o(w)){this.nodes[x]=w instanceof s?w:new s(w);return this}throw new Error("Should give an Assert, an Asserts array, a Constraint",w)},has:function(x,w){w="undefined"!==typeof w?w:this.nodes;return"undefined"!==typeof w[x]},get:function(w,x){return this.has(w)?this.nodes[w]:x||null},remove:function(x){var y=[];for(var w in this.nodes){if(w!==x){y[w]=this.nodes[w]}}this.nodes=y;return this},_bootstrap:function(x){if(x instanceof s){return this.nodes=x.nodes}for(var w in x){this.add(w,x[w])}},_check:function(w,x,y){if(this.nodes[w] instanceof v){return this._checkAsserts(x,[this.nodes[w]],y)}if(o(this.nodes[w])){return this._checkAsserts(x,this.nodes[w],y)}if(this.nodes[w] instanceof s){return this.nodes[w].check(x,y)}throw new Error("Invalid node",this.nodes[w])},_checkAsserts:function(z,B,A){var w,y=[];for(var x=0;x<B.length;x++){w=B[x].check(z,A);if("undefined"!==typeof w&&true!==w){y.push(w)}}return y}};var q=function(w,y,x){this.__class__="Violation";if(!(w instanceof v)){throw new Error("Should give an assertion implementing the Assert interface")}this.assert=w;this.value=y;if("undefined"!==typeof x){this.violation=x}};q.prototype={show:function(){var w={assert:this.assert.__class__,value:this.value};if(this.violation){w.violation=this.violation}return w},__toString:function(){if("undefined"!==typeof this.violation){this.violation='", '+this.getViolation().constraint+" expected was "+this.getViolation().expected}return this.assert.__class__+' assert failed for "'+this.value+this.violation||""},getViolation:function(){var x,w;for(x in this.violation){w=this.violation[x]}return{constraint:x,expected:w}}};var v=function(w){this.__class__="Assert";this.__parentClass__=this.__class__;this.groups=[];if("undefined"!==typeof w){this.addGroup(w)}};v.prototype={construct:v,requiresValidation:function(w){if(w&&!this.hasGroup(w)){return false}if(!w&&this.hasGroups()){return false}return true},check:function(x,y){if(!this.requiresValidation(y)){return}try{return this.validate(x,y)}catch(w){return w}},hasGroup:function(w){if(o(w)){return this.hasOneOf(w)}if("Any"===w){return true}if(!this.hasGroups()){return"Default"===w}return -1!==this.groups.indexOf(w)},hasOneOf:function(w){for(var x=0;x<w.length;x++){if(this.hasGroup(w[x])){return true}}return false},hasGroups:function(){return this.groups.length>0},addGroup:function(w){if(o(w)){return this.addGroups(w)}if(!this.hasGroup(w)){this.groups.push(w)}return this},removeGroup:function(y){var x=[];for(var w=0;w<this.groups.length;w++){if(y!==this.groups[w]){x.push(this.groups[w])}}this.groups=x;return this},addGroups:function(w){for(var x=0;x<w.length;x++){this.addGroup(w[x])}return this},HaveProperty:function(w){this.__class__="HaveProperty";this.node=w;this.validate=function(x){if("undefined"===typeof x[this.node]){throw new q(this,x,{value:this.node})}return true};return this},Blank:function(){this.__class__="Blank";this.validate=function(w){if("string"!==typeof w){throw new q(this,w,{value:t.errorCode.must_be_a_string})}if(""!==w.replace(/^\s+/g,"").replace(/\s+$/g,"")){throw new q(this,w)}return true};return this},Callback:function(w){this.__class__="Callback";this.arguments=Array.prototype.slice.call(arguments);if(1===this.arguments.length){this.arguments=[]}else{this.arguments.splice(0,1)}if("function"!==typeof w){throw new Error("Callback must be instanciated with a function")}this.fn=w;this.validate=function(y){var x=this.fn.apply(this,[y].concat(this.arguments));if(true!==x){throw new q(this,y,{result:x})}return true};return this},Choice:function(w){this.__class__="Choice";if(!o(w)&&"function"!==typeof w){throw new Error("Choice must be instanciated with an array or a function")}this.list=w;this.validate=function(z){var y="function"===typeof this.list?this.list():this.list;for(var x=0;x<y.length;x++){if(z===y[x]){return true}}throw new q(this,z,{choices:y})};return this},Collection:function(w){this.__class__="Collection";this.constraint="undefined"!==typeof w?(w instanceof v?w:new s(w)):false;this.validate=function(E,D){var y,A=new t(),C=0,B={},x=this.groups.length?this.groups:D;if(!o(E)){throw new q(this,array,{value:t.errorCode.must_be_an_array})}for(var z=0;z<E.length;z++){y=this.constraint?A.validate(E[z],this.constraint,x):A.validate(E[z],x);if(!u(y)){B[C]=y}C++}return !u(B)?B:true};return this},Count:function(w){this.__class__="Count";this.count=w;this.validate=function(y){if(!o(y)){throw new q(this,y,{value:t.errorCode.must_be_an_array})}var x="function"===typeof this.count?this.count(y):this.count;if(isNaN(Number(x))){throw new Error("Count must be a valid interger",x)}if(x!==y.length){throw new q(this,y,{count:x})}return true};return this},Email:function(){this.__class__="Email";this.validate=function(x){var w=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;if("string"!==typeof x){throw new q(this,x,{value:t.errorCode.must_be_a_string})}if(!w.test(x)){throw new q(this,x)}return true};return this},EqualTo:function(w){this.__class__="EqualTo";if("undefined"===typeof w){throw new Error("EqualTo must be instanciated with a value or a function")}this.reference=w;this.validate=function(y){var x="function"===typeof this.reference?this.reference(y):this.reference;if(x!==y){throw new q(this,y,{value:x})}return true};return this},GreaterThan:function(w){this.__class__="GreaterThan";if("undefined"===typeof w){throw new Error("Should give a threshold value")}this.threshold=w;this.validate=function(x){if(""===x||isNaN(Number(x))){throw new q(this,x,{value:t.errorCode.must_be_a_number})}if(this.threshold>=x){throw new q(this,x,{threshold:this.threshold})}return true};return this},GreaterThanOrEqual:function(w){this.__class__="GreaterThanOrEqual";if("undefined"===typeof w){throw new Error("Should give a threshold value")}this.threshold=w;this.validate=function(x){if(""===x||isNaN(Number(x))){throw new q(this,x,{value:t.errorCode.must_be_a_number})}if(this.threshold>x){throw new q(this,x,{threshold:this.threshold})}return true};return this},InstanceOf:function(w){this.__class__="InstanceOf";if("undefined"===typeof w){throw new Error("InstanceOf must be instanciated with a value")}this.classRef=w;this.validate=function(x){if(true!==(x instanceof this.classRef)){throw new q(this,x,{classRef:this.classRef})}return true};return this},Length:function(w){this.__class__="Length";if(!w.min&&!w.max){throw new Error("Lenth assert must be instanciated with a { min: x, max: y } object")}this.min=w.min;this.max=w.max;this.validate=function(x){if("string"!==typeof x&&!o(x)){throw new q(this,x,{value:t.errorCode.must_be_a_string_or_array})}if("undefined"!==typeof this.min&&this.min===this.max&&x.length!==this.min){throw new q(this,x,{min:this.min,max:this.max})}if("undefined"!==typeof this.max&&x.length>this.max){throw new q(this,x,{max:this.max})}if("undefined"!==typeof this.min&&x.length<this.min){throw new q(this,x,{min:this.min})}return true};return this},LessThan:function(w){this.__class__="LessThan";if("undefined"===typeof w){throw new Error("Should give a threshold value")}this.threshold=w;this.validate=function(x){if(""===x||isNaN(Number(x))){throw new q(this,x,{value:t.errorCode.must_be_a_number})}if(this.threshold<=x){throw new q(this,x,{threshold:this.threshold})}return true};return this},LessThanOrEqual:function(w){this.__class__="LessThanOrEqual";if("undefined"===typeof w){throw new Error("Should give a threshold value")}this.threshold=w;this.validate=function(x){if(""===x||isNaN(Number(x))){throw new q(this,x,{value:t.errorCode.must_be_a_number})}if(this.threshold<x){throw new q(this,x,{threshold:this.threshold})}return true};return this},NotNull:function(){this.__class__="NotNull";this.validate=function(w){if(null===w||"undefined"===typeof w){throw new q(this,w)}return true};return this},NotBlank:function(){this.__class__="NotBlank";this.validate=function(w){if("string"!==typeof w){throw new q(this,w,{value:t.errorCode.must_be_a_string})}if(""===w.replace(/^\s+/g,"").replace(/\s+$/g,"")){throw new q(this,w)}return true};return this},Null:function(){this.__class__="Null";this.validate=function(w){if(null!==w){throw new q(this,w)}return true};return this},Range:function(x,w){this.__class__="Range";if("undefined"===typeof x||"undefined"===typeof w){throw new Error("Range assert expects min and max values")}this.min=x;this.max=w;this.validate=function(z){try{if(("string"===typeof z&&isNaN(Number(z)))||o(z)){new v().Length({min:this.min,max:this.max}).validate(z)}else{new v().GreaterThanOrEqual(this.min).validate(z)&&new v().LessThanOrEqual(this.max).validate(z)}return true}catch(y){throw new q(this,z,y.violation)}return true};return this},Regexp:function(x,w){this.__class__="Regexp";if("undefined"===typeof x){throw new Error("You must give a regexp")}this.regexp=x;this.flag=w||"";this.validate=function(y){if("string"!==typeof y){throw new q(this,y,{value:t.errorCode.must_be_a_string})}if(!new RegExp(this.regexp,this.flag).test(y)){throw new q(this,y,{regexp:this.regexp,flag:this.flag})}return true};return this},Required:function(){this.__class__="Required";this.validate=function(x){if("undefined"===typeof x){throw new q(this,x)}try{if("string"===typeof x){new v().NotNull().validate(x)&&new v().NotBlank().validate(x)}else{if(true===o(x)){new v().Length({min:1}).validate(x)}}}catch(w){throw new q(this,x)}return true};return this},Unique:function(w){this.__class__="Unique";if("object"===typeof w){this.key=w.key}this.validate=function(A){var z,x=[];if(!o(A)){throw new q(this,A,{value:t.errorCode.must_be_an_array})}for(var y=0;y<A.length;y++){z="object"===typeof A[y]?A[y][this.key]:A[y];if("undefined"===typeof z){continue}if(-1!==x.indexOf(z)){throw new q(this,A,{value:z})}x.push(z)}return true};return this}};r.Assert=v;r.Validator=t;r.Violation=q;r.Constraint=s;if(!Array.prototype.indexOf){Array.prototype.indexOf=function(y){if(this===null){throw new TypeError()}var z=Object(this);var w=z.length>>>0;if(w===0){return -1}var A=0;if(arguments.length>1){A=Number(arguments[1]);if(A!=A){A=0}else{if(A!==0&&A!=Infinity&&A!=-Infinity){A=(A>0||-1)*Math.floor(Math.abs(A))}}}if(A>=w){return -1}var x=A>=0?A:Math.max(w-Math.abs(A),0);for(;x<w;x++){if(x in z&&z[x]===y){return x}}return -1}}var u=function(x){for(var w in x){return false}return true};var o=function(w){return Object.prototype.toString.call(w)==="[object Array]"};if(typeof define==="function"&&define.amd){define("vendors/validator.js/dist/validator",[],function(){return r})}else{if(typeof module!=="undefined"&&module.exports){module.exports=r}else{window["undefined"!==typeof validatorjs_ns?validatorjs_ns:"Validator"]=r}}return r})();h="undefined"!==typeof h?h:("undefined"!==typeof module?module.exports:null);var i=function(q,o){this.__class__="ParsleyValidator";this.Validator=h;this.locale="en";this.init(q||{},o||{})};i.prototype={init:function(q,o){this.catalog=o;for(var r in q){this.addValidator(r,q[r].fn,q[r].priority,q[r].requirementsTransformer)}l.emit("parsley:validator:init")},setLocale:function(o){if("undefined"===typeof this.catalog[o]){throw new Error(o+" is not available in the catalog")}this.locale=o;return this},addCatalog:function(o,q,r){if("object"===typeof q){this.catalog[o]=q}if(true===r){return this.setLocale(o)}return this},addMessage:function(o,q,r){if("undefined"===typeof this.catalog[o]){this.catalog[o]={}}this.catalog[o][q.toLowerCase()]=r;return this},validate:function(q,r,o){return new this.Validator.Validator().validate.apply(new h.Validator(),arguments)},addValidator:function(o,s,q,r){this.validators[o.toLowerCase()]=function(t){return l.extend(new h.Assert().Callback(s,t),{priority:q,requirementsTransformer:r})};return this},updateValidator:function(o,s,q,r){return this.addValidator(o,s,q,r)},removeValidator:function(o){delete this.validators[o];return this},getErrorMessage:function(q){var o;if("type"===q.name){o=this.catalog[this.locale][q.name][q.requirements]}else{o=this.formatMessage(this.catalog[this.locale][q.name],q.requirements)}return""!==o?o:this.catalog[this.locale].defaultMessage},formatMessage:function(o,r){if("object"===typeof r){for(var q in r){o=this.formatMessage(o,r[q])}return o}return"string"===typeof o?o.replace(new RegExp("%s","i"),r):""},validators:{notblank:function(){return l.extend(new h.Assert().NotBlank(),{priority:2})},required:function(){return l.extend(new h.Assert().Required(),{priority:512})},type:function(q){var o;switch(q){case"email":o=new h.Assert().Email();break;case"range":case"number":o=new h.Assert().Regexp("^-?(?:\\d+|\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$");break;case"integer":o=new h.Assert().Regexp("^-?\\d+$");break;case"digits":o=new h.Assert().Regexp("^\\d+$");break;case"alphanum":o=new h.Assert().Regexp("^\\w+$","i");break;case"url":o=new h.Assert().Regexp("(https?:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,24}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)","i");break;default:throw new Error("validator type `"+q+"` is not supported")}return l.extend(o,{priority:256})},pattern:function(q){var o="";if(!!(/^\/.*\/(?:[gimy]*)$/.test(q))){o=q.replace(/.*\/([gimy]*)$/,"$1");q=q.replace(new RegExp("^/(.*?)/"+o+"$"),"$1")}return l.extend(new h.Assert().Regexp(q,o),{priority:64})},minlength:function(o){return l.extend(new h.Assert().Length({min:o}),{priority:30,requirementsTransformer:function(){return"string"===typeof o&&!isNaN(o)?parseInt(o,10):o}})},maxlength:function(o){return l.extend(new h.Assert().Length({max:o}),{priority:30,requirementsTransformer:function(){return"string"===typeof o&&!isNaN(o)?parseInt(o,10):o}})},length:function(o){return l.extend(new h.Assert().Length({min:o[0],max:o[1]}),{priority:32})},mincheck:function(o){return this.minlength(o)},maxcheck:function(o){return this.maxlength(o)},check:function(o){return this.length(o)},min:function(o){return l.extend(new h.Assert().GreaterThanOrEqual(o),{priority:30,requirementsTransformer:function(){return"string"===typeof o&&!isNaN(o)?parseInt(o,10):o}})},max:function(o){return l.extend(new h.Assert().LessThanOrEqual(o),{priority:30,requirementsTransformer:function(){return"string"===typeof o&&!isNaN(o)?parseInt(o,10):o}})},range:function(o){return l.extend(new h.Assert().Range(o[0],o[1]),{priority:32,requirementsTransformer:function(){for(var q=0;q<o.length;q++){o[q]="string"===typeof o[q]&&!isNaN(o[q])?parseInt(o[q],10):o[q]}return o}})},equalto:function(o){return l.extend(new h.Assert().EqualTo(o),{priority:256,requirementsTransformer:function(){return l(o).length?l(o).val():o}})}}};var g=function(o){this.__class__="ParsleyUI"};g.prototype={listen:function(){l.listen("parsley:form:init",this,this.setupForm);l.listen("parsley:field:init",this,this.setupField);l.listen("parsley:field:validated",this,this.reflow);l.listen("parsley:form:validated",this,this.focus);l.listen("parsley:field:reset",this,this.reset);l.listen("parsley:form:destroy",this,this.destroy);l.listen("parsley:field:destroy",this,this.destroy);return this},reflow:function(o){if("undefined"===typeof o._ui||false===o._ui.active){return}var q=this._diff(o.validationResult,o._ui.lastValidationResult);o._ui.lastValidationResult=o.validationResult;o._ui.validatedOnce=true;this.manageStatusClass(o);this.manageErrorsMessages(o,q);this.actualizeTriggers(o);if((q.kept.length||q.added.length)&&"undefined"===typeof o._ui.failedOnce){this.manageFailingFieldTrigger(o)}},getErrorsMessages:function(o){if(true===o.validationResult){return[]}var r=[];for(var q=0;q<o.validationResult.length;q++){r.push(this._getErrorMessage(o,o.validationResult[q].assert))}return r},manageStatusClass:function(o){if(true===o.validationResult){this._successClass(o)}else{if(o.validationResult.length>0){this._errorClass(o)}else{this._resetClass(o)}}},manageErrorsMessages:function(o,r){if("undefined"!==typeof o.options.errorsMessagesDisabled){return}if("undefined"!==typeof o.options.errorMessage){if((r.added.length||r.kept.length)){if(0===o._ui.$errorsWrapper.find(".parsley-custom-error-message").length){o._ui.$errorsWrapper.append(l(o.options.errorTemplate).addClass("parsley-custom-error-message"))}return o._ui.$errorsWrapper.addClass("filled").find(".parsley-custom-error-message").html(o.options.errorMessage)}return o._ui.$errorsWrapper.removeClass("filled").find(".parsley-custom-error-message").remove()}for(var q=0;q<r.removed.length;q++){this.removeError(o,r.removed[q].assert.name,true)}for(q=0;q<r.added.length;q++){this.addError(o,r.added[q].assert.name,undefined,r.added[q].assert,true)}for(q=0;q<r.kept.length;q++){this.updateError(o,r.kept[q].assert.name,undefined,r.kept[q].assert,true)}},addError:function(q,r,s,o,t){q._ui.$errorsWrapper.addClass("filled").append(l(q.options.errorTemplate).addClass("parsley-"+r).html(s||this._getErrorMessage(q,o)));if(true!==t){this._errorClass(q)}},updateError:function(q,r,s,o,t){q._ui.$errorsWrapper.addClass("filled").find(".parsley-"+r).html(s||this._getErrorMessage(q,o));if(true!==t){this._errorClass(q)}},removeError:function(o,q,r){o._ui.$errorsWrapper.removeClass("filled").find(".parsley-"+q).remove();if(true!==r){this.manageStatusClass(o)}},focus:function(q){if(true===q.validationResult||"none"===q.options.focus){return q._focusedField=null}q._focusedField=null;for(var o=0;o<q.fields.length;o++){if(true!==q.fields[o].validationResult&&q.fields[o].validationResult.length>0&&"undefined"===typeof q.fields[o].options.noFocus){if("first"===q.options.focus){q._focusedField=q.fields[o].$element;return q._focusedField.focus()}q._focusedField=q.fields[o].$element}}if(null===q._focusedField){return null}return q._focusedField.focus()},_getErrorMessage:function(q,r){var o=r.name+"Message";if("undefined"!==typeof q.options[o]){return window.ParsleyValidator.formatMessage(q.options[o],r.requirements)}return window.ParsleyValidator.getErrorMessage(r)},_diff:function(q,w,o){var t=[],v=[];for(var s=0;s<q.length;s++){var u=false;for(var r=0;r<w.length;r++){if(q[s].assert.name===w[r].assert.name){u=true;break}}if(u){v.push(q[s])}else{t.push(q[s])}}return{kept:v,added:t,removed:!o?this._diff(w,q,true).added:[]}},setupForm:function(o){o.$element.on("submit.Parsley",false,l.proxy(o.onSubmitValidate,o));if(false===o.options.uiEnabled){return}o.$element.attr("novalidate","")},setupField:function(q){var o={active:false};if(false===q.options.uiEnabled){return}o.active=true;q.$element.attr(q.options.namespace+"id",q.__id__);o.$errorClassHandler=this._manageClassHandler(q);o.errorsWrapperId="parsley-id-"+("undefined"!==typeof q.options.multiple?"multiple-"+q.options.multiple:q.__id__);o.$errorsWrapper=l(q.options.errorsWrapper).attr("id",o.errorsWrapperId);o.lastValidationResult=[];o.validatedOnce=false;o.validationInformationVisible=false;q._ui=o;if(!q.$element.is(q.options.excluded)){this._insertErrorWrapper(q)}this.actualizeTriggers(q)},_manageClassHandler:function(q){if("string"===typeof q.options.classHandler&&l(q.options.classHandler).length){return l(q.options.classHandler)}var o=q.options.classHandler(q);if("undefined"!==typeof o&&o.length){return o}if("undefined"===typeof q.options.multiple||q.$element.is("select")){return q.$element}return q.$element.parent()},_insertErrorWrapper:function(o){var q;if("string"===typeof o.options.errorsContainer){if(l(o.options.errorsContainer).length){return l(o.options.errorsContainer).append(o._ui.$errorsWrapper)}else{if(window.console&&window.console.warn){window.console.warn("The errors container `"+o.options.errorsContainer+"` does not exist in DOM")}}}else{if("function"===typeof o.options.errorsContainer){q=o.options.errorsContainer(o)}}if("undefined"!==typeof q&&q.length){return q.append(o._ui.$errorsWrapper)}return"undefined"===typeof o.options.multiple?o.$element.after(o._ui.$errorsWrapper):o.$element.parent().after(o._ui.$errorsWrapper)},actualizeTriggers:function(q){var o=q.$element;if(q.options.multiple){o=l("["+q.options.namespace+'multiple="'+q.options.multiple+'"]')}o.off(".Parsley");if(false===q.options.trigger){return}var r=q.options.trigger.replace(/^\s+/g,"").replace(/\s+$/g,"");if(""===r){return}o.on(r.split(" ").join(".Parsley ")+".Parsley",l.proxy("function"===typeof q.eventValidate?q.eventValidate:this.eventValidate,q))},eventValidate:function(o){if(new RegExp("key").test(o.type)){if(!this._ui.validationInformationVisible&&this.getValue().length<=this.options.validationThreshold){return}}this._ui.validatedOnce=true;this.validate()},manageFailingFieldTrigger:function(o){o._ui.failedOnce=true;if(o.options.multiple){l("["+o.options.namespace+'multiple="'+o.options.multiple+'"]').each(function(){if(!new RegExp("change","i").test(l(this).parsley().options.trigger||"")){return l(this).on("change.ParsleyFailedOnce",false,l.proxy(o.validate,o))}})}if(o.$element.is("select")){if(!new RegExp("change","i").test(o.options.trigger||"")){return o.$element.on("change.ParsleyFailedOnce",false,l.proxy(o.validate,o))}}if(!new RegExp("keyup","i").test(o.options.trigger||"")){return o.$element.on("keyup.ParsleyFailedOnce",false,l.proxy(o.validate,o))}},reset:function(o){o.$element.off(".Parsley");o.$element.off(".ParsleyFailedOnce");if("undefined"===typeof o._ui){return}if("ParsleyForm"===o.__class__){return}o._ui.$errorsWrapper.removeClass("filled").children().remove();this._resetClass(o);o._ui.validatedOnce=false;o._ui.lastValidationResult=[];o._ui.validationInformationVisible=false},destroy:function(o){this.reset(o);if("ParsleyForm"===o.__class__){return}if("undefined"!==typeof o._ui){o._ui.$errorsWrapper.remove()}delete o._ui},_successClass:function(o){o._ui.validationInformationVisible=true;o._ui.$errorClassHandler.removeClass(o.options.errorClass).addClass(o.options.successClass)},_errorClass:function(o){o._ui.validationInformationVisible=true;o._ui.$errorClassHandler.removeClass(o.options.successClass).addClass(o.options.errorClass)},_resetClass:function(o){o._ui.$errorClassHandler.removeClass(o.options.successClass).removeClass(o.options.errorClass)}};var p=function(o,r,s,q){this.__class__="OptionsFactory";this.__id__=f.hash(4);this.formOptions=null;this.fieldOptions=null;this.staticOptions=l.extend(true,{},o,r,s,{namespace:q})};p.prototype={get:function(o){if("undefined"===typeof o.__class__){throw new Error("Parsley Instance expected")}switch(o.__class__){case"Parsley":return this.staticOptions;case"ParsleyForm":return this.getFormOptions(o);case"ParsleyField":case"ParsleyFieldMultiple":return this.getFieldOptions(o);default:throw new Error("Instance "+o.__class__+" is not supported")}},getFormOptions:function(o){this.formOptions=f.attr(o.$element,this.staticOptions.namespace);return l.extend({},this.staticOptions,this.formOptions)},getFieldOptions:function(o){this.fieldOptions=f.attr(o.$element,this.staticOptions.namespace);if(null===this.formOptions&&"undefined"!==typeof o.parent){this.formOptions=this.getFormOptions(o.parent)}return l.extend({},this.staticOptions,this.formOptions,this.fieldOptions)}};var c=function(o,q){this.__class__="ParsleyForm";this.__id__=f.hash(4);if("OptionsFactory"!==f.get(q,"__class__")){throw new Error("You must give an OptionsFactory instance")}this.OptionsFactory=q;this.$element=l(o);this.validationResult=null;this.options=this.OptionsFactory.get(this)};c.prototype={onSubmitValidate:function(o){this.validate(undefined,undefined,o);if(false===this.validationResult&&o instanceof l.Event){o.stopImmediatePropagation();o.preventDefault()}return this},validate:function(t,s,r){this.submitEvent=r;this.validationResult=true;var o=[];l.emit("parsley:form:validate",this);this._refreshFields();for(var q=0;q<this.fields.length;q++){if(t&&!this._isFieldInGroup(this.fields[q],t)){continue}o=this.fields[q].validate(s);if(true!==o&&o.length>0&&this.validationResult){this.validationResult=false}}l.emit("parsley:form:"+(this.validationResult?"success":"error"),this);l.emit("parsley:form:validated",this);return this.validationResult},isValid:function(r,q){this._refreshFields();for(var o=0;o<this.fields.length;o++){if(r&&!this._isFieldInGroup(this.fields[o],r)){continue}if(false===this.fields[o].isValid(q)){return false}}return true},_isFieldInGroup:function(q,o){if(f.isArray(q.options.group)){return -1!==l.inArray(o,q.options.group)}return q.options.group===o},_refreshFields:function(){return this.actualizeOptions()._bindFields()},_bindFields:function(){var o=this;this.fields=[];this.fieldsMappedById={};this.$element.find(this.options.inputs).each(function(){var q=new window.Parsley(this,{},o);if(("ParsleyField"===q.__class__||"ParsleyFieldMultiple"===q.__class__)&&!q.$element.is(q.options.excluded)){if("undefined"===typeof o.fieldsMappedById[q.__class__+"-"+q.__id__]){o.fieldsMappedById[q.__class__+"-"+q.__id__]=q;o.fields.push(q)}}});return this}};var n=function(t,r,u,s,q){var o={};if(!new RegExp("ParsleyField").test(f.get(t,"__class__"))){throw new Error("ParsleyField or ParsleyFieldMultiple instance expected")}if("function"===typeof window.ParsleyValidator.validators[r]){o=window.ParsleyValidator.validators[r](u)}if("Assert"!==o.__parentClass__){throw new Error("Valid validator expected")}var v=function(){if("undefined"!==typeof t.options[r+"Priority"]){return t.options[r+"Priority"]}return f.get(o,"priority")||2};s=s||v();if("function"===typeof o.requirementsTransformer){u=o.requirementsTransformer();o=window.ParsleyValidator.validators[r](u)}return l.extend(o,{name:r,requirements:u,priority:s,groups:[s],isDomConstraint:q||f.attr(t.$element,t.options.namespace,r)})};var d=function(q,r,o){this.__class__="ParsleyField";this.__id__=f.hash(4);this.$element=l(q);if("undefined"!==typeof o){this.parent=o;this.OptionsFactory=this.parent.OptionsFactory;this.options=this.OptionsFactory.get(this)}else{this.OptionsFactory=r;this.options=this.OptionsFactory.get(this)}this.constraints=[];this.constraintsByName={};this.validationResult=[];this._bindConstraints()};d.prototype={validate:function(o){this.value=this.getValue();l.emit("parsley:field:validate",this);l.emit("parsley:field:"+(this.isValid(o,this.value)?"success":"error"),this);l.emit("parsley:field:validated",this);return this.validationResult},isValid:function(s,r){this.refreshConstraints();var o=this._getConstraintsSortedPriorities();if(0===o.length){return this.validationResult=[]}if("undefined"===typeof r||null===r){r=this.getValue()}if(!r.length&&!this._isRequired()&&"undefined"===typeof this.options.validateIfEmpty&&true!==s){return this.validationResult=[]}if(false===this.options.priorityEnabled){return true===(this.validationResult=this.validateThroughValidator(r,this.constraints,"Any"))}for(var q=0;q<o.length;q++){if(true!==(this.validationResult=this.validateThroughValidator(r,this.constraints,o[q]))){return false}}return true},getValue:function(){var o;if("undefined"!==typeof this.options.value){o=this.options.value}else{o=this.$element.val()}if("undefined"===typeof o||null===o){return""}if(true===this.options.trimValue){return o.replace(/^\s+|\s+$/g,"")}return o},refreshConstraints:function(){return this.actualizeOptions()._bindConstraints()},addConstraint:function(q,s,r,o){q=q.toLowerCase();if("function"===typeof window.ParsleyValidator.validators[q]){var t=new n(this,q,s,r,o);if("undefined"!==this.constraintsByName[t.name]){this.removeConstraint(t.name)}this.constraints.push(t);this.constraintsByName[t.name]=t}return this},removeConstraint:function(o){for(var q=0;q<this.constraints.length;q++){if(o===this.constraints[q].name){this.constraints.splice(q,1);break}}delete this.constraintsByName[o];return this},updateConstraint:function(o,r,q){return this.removeConstraint(o).addConstraint(o,r,q)},_bindConstraints:function(){var s=[],o={};for(var r=0;r<this.constraints.length;r++){if(false===this.constraints[r].isDomConstraint){s.push(this.constraints[r]);o[this.constraints[r].name]=this.constraints[r]}}this.constraints=s;this.constraintsByName=o;for(var q in this.options){this.addConstraint(q,this.options[q])}return this._bindHtml5Constraints()},_bindHtml5Constraints:function(){if(this.$element.hasClass("required")||this.$element.attr("required")){this.addConstraint("required",true,undefined,true)}if("string"===typeof this.$element.attr("pattern")){this.addConstraint("pattern",this.$element.attr("pattern"),undefined,true)}if("undefined"!==typeof this.$element.attr("min")&&"undefined"!==typeof this.$element.attr("max")){this.addConstraint("range",[this.$element.attr("min"),this.$element.attr("max")],undefined,true)}else{if("undefined"!==typeof this.$element.attr("min")){this.addConstraint("min",this.$element.attr("min"),undefined,true)}else{if("undefined"!==typeof this.$element.attr("max")){this.addConstraint("max",this.$element.attr("max"),undefined,true)}}}if("undefined"!==typeof this.$element.attr("minlength")&&"undefined"!==typeof this.$element.attr("maxlength")){this.addConstraint("length",[this.$element.attr("minlength"),this.$element.attr("maxlength")],undefined,true)}else{if("undefined"!==typeof this.$element.attr("minlength")){this.addConstraint("minlength",this.$element.attr("minlength"),undefined,true)}else{if("undefined"!==typeof this.$element.attr("maxlength")){this.addConstraint("maxlength",this.$element.attr("maxlength"),undefined,true)}}}var o=this.$element.attr("type");if("undefined"===typeof o){return this}if("number"===o){if(("undefined"===typeof this.$element.attr("step"))||(0===parseFloat(this.$element.attr("step"))%1)){return this.addConstraint("type","integer",undefined,true)}else{return this.addConstraint("type","number",undefined,true)}}else{if(new RegExp(o,"i").test("email url range")){return this.addConstraint("type",o,undefined,true)}}return this},_isRequired:function(){if("undefined"===typeof this.constraintsByName.required){return false}return false!==this.constraintsByName.required.requirements},_getConstraintsSortedPriorities:function(){var o=[];for(var q=0;q<this.constraints.length;q++){if(-1===o.indexOf(this.constraints[q].priority)){o.push(this.constraints[q].priority)}}o.sort(function(s,r){return r-s});return o}};var a=function(){this.__class__="ParsleyFieldMultiple"};a.prototype={addElement:function(o){this.$elements.push(o);return this},refreshConstraints:function(){var q;this.constraints=[];if(this.$element.is("select")){this.actualizeOptions()._bindConstraints();return this}for(var r=0;r<this.$elements.length;r++){if(!l("html").has(this.$elements[r]).length){this.$elements.splice(r,1);continue}q=this.$elements[r].data("ParsleyFieldMultiple").refreshConstraints().constraints;for(var o=0;o<q.length;o++){this.addConstraint(q[o].name,q[o].requirements,q[o].priority,q[o].isDomConstraint)}}return this},getValue:function(){if("undefined"!==typeof this.options.value){return this.options.value}if(this.$element.is("input[type=radio]")){return l("["+this.options.namespace+'multiple="'+this.options.multiple+'"]:checked').val()||""}if(this.$element.is("input[type=checkbox]")){var o=[];l("["+this.options.namespace+'multiple="'+this.options.multiple+'"]:checked').each(function(){o.push(l(this).val())});return o.length?o:[]}if(this.$element.is("select")&&null===this.$element.val()){return[]}return this.$element.val()},_init:function(o){this.$elements=[this.$element];this.options.multiple=o;return this}};var e=l({}),m={};l.listen=function(o){if("undefined"===typeof m[o]){m[o]=[]}if("function"===typeof arguments[1]){return m[o].push({fn:arguments[1]})}if("object"===typeof arguments[1]&&"function"===typeof arguments[2]){return m[o].push({fn:arguments[2],ctxt:arguments[1]})}throw new Error("Wrong parameters")};l.listenTo=function(o,q,r){if("undefined"===typeof m[q]){m[q]=[]}if(!(o instanceof d)&&!(o instanceof c)){throw new Error("Must give Parsley instance")}if("string"!==typeof q||"function"!==typeof r){throw new Error("Wrong parameters")}m[q].push({instance:o,fn:r})};l.unsubscribe=function(o,r){if("undefined"===typeof m[o]){return}if("string"!==typeof o||"function"!==typeof r){throw new Error("Wrong arguments")}for(var q=0;q<m[o].length;q++){if(m[o][q].fn===r){return m[o].splice(q,1)}}};l.unsubscribeTo=function(o,q){if("undefined"===typeof m[q]){return}if(!(o instanceof d)&&!(o instanceof c)){throw new Error("Must give Parsley instance")}for(var r=0;r<m[q].length;r++){if("undefined"!==typeof m[q][r].instance&&m[q][r].instance.__id__===o.__id__){return m[q].splice(r,1)}}};l.unsubscribeAll=function(o){if("undefined"===typeof m[o]){return}delete m[o]};l.emit=function(r,o){if("undefined"===typeof m[r]){return}for(var s=0;s<m[r].length;s++){if("undefined"===typeof m[r][s].instance){m[r][s].fn.apply("undefined"!==typeof m[r][s].ctxt?m[r][s].ctxt:e,Array.prototype.slice.call(arguments,1));continue}if(!(o instanceof d)&&!(o instanceof c)){continue}if(m[r][s].instance.__id__===o.__id__){m[r][s].fn.apply(e,Array.prototype.slice.call(arguments,1));continue}if(m[r][s].instance instanceof c&&o instanceof d){for(var q=0;q<m[r][s].instance.fields.length;q++){if(m[r][s].instance.fields[q].__id__===o.__id__){m[r][s].fn.apply(e,Array.prototype.slice.call(arguments,1));continue}}}}};l.subscribed=function(){return m};window.ParsleyConfig=window.ParsleyConfig||{};window.ParsleyConfig.i18n=window.ParsleyConfig.i18n||{};window.ParsleyConfig.i18n.en=l.extend(window.ParsleyConfig.i18n.en||{},{defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",number:"This value should be a valid number.",integer:"This value should be a valid integer.",digits:"This value should be digits.",alphanum:"This value should be alphanumeric."},notblank:"This value should not be blank.",required:"This value is required.",pattern:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or fewer.",length:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or fewer.",check:"You must select between %s and %s choices.",equalto:"This value should be the same."});if("undefined"!==typeof window.ParsleyValidator){window.ParsleyValidator.addCatalog("en",window.ParsleyConfig.i18n.en,true)}var j=function(r,q,o){this.__class__="Parsley";this.__version__="2.0.7";this.__id__=f.hash(4);if("undefined"===typeof r){throw new Error("You must give an element")}if("undefined"!==typeof o&&"ParsleyForm"!==o.__class__){throw new Error("Parent instance must be a ParsleyForm instance")}return this.init(l(r),q,o)};j.prototype={init:function(q,r,o){if(!q.length){throw new Error("You must bind Parsley on an existing element.")}this.$element=q;if(this.$element.data("Parsley")){var s=this.$element.data("Parsley");if("undefined"!==typeof o){s.parent=o}return s}this.OptionsFactory=new p(k,f.get(window,"ParsleyConfig")||{},r,this.getNamespace(r));this.options=this.OptionsFactory.get(this);if(this.$element.is("form")||(f.attr(this.$element,this.options.namespace,"validate")&&!this.$element.is(this.options.inputs))){return this.bind("parsleyForm")}else{if(this.$element.is(this.options.inputs)&&!this.$element.is(this.options.excluded)){return this.isMultiple()?this.handleMultiple(o):this.bind("parsleyField",o)}}return this},isMultiple:function(){return(this.$element.is("input[type=radio], input[type=checkbox]")&&"undefined"===typeof this.options.multiple)||(this.$element.is("select")&&"undefined"!==typeof this.$element.attr("multiple"))},handleMultiple:function(q){var t=this,r,o,u;this.options=l.extend(this.options,q?q.OptionsFactory.get(q):{},f.attr(this.$element,this.options.namespace));if(this.options.multiple){o=this.options.multiple}else{if("undefined"!==typeof this.$element.attr("name")&&this.$element.attr("name").length){o=r=this.$element.attr("name")}else{if("undefined"!==typeof this.$element.attr("id")&&this.$element.attr("id").length){o=this.$element.attr("id")}}}if(this.$element.is("select")&&"undefined"!==typeof this.$element.attr("multiple")){return this.bind("parsleyFieldMultiple",q,o||this.__id__)}else{if("undefined"===typeof o){if(window.console&&window.console.warn){window.console.warn("To be binded by Parsley, a radio, a checkbox and a multiple select input must have either a name or a multiple option.",this.$element)}return this}}o=o.replace(/(:|\.|\[|\]|\{|\}|\$)/g,"");if("undefined"!==typeof r){l('input[name="'+r+'"]').each(function(){if(l(this).is("input[type=radio], input[type=checkbox]")){l(this).attr(t.options.namespace+"multiple",o)}})}if(l("["+this.options.namespace+"multiple="+o+"]").length){for(var s=0;s<l("["+this.options.namespace+"multiple="+o+"]").length;s++){if("undefined"!==typeof l(l("["+this.options.namespace+"multiple="+o+"]").get(s)).data("Parsley")){u=l(l("["+this.options.namespace+"multiple="+o+"]").get(s)).data("Parsley");if(!this.$element.data("ParsleyFieldMultiple")){u.addElement(this.$element);this.$element.attr(this.options.namespace+"id",u.__id__)}break}}}this.bind("parsleyField",q,o,true);return u||this.bind("parsleyFieldMultiple",q,o)},getNamespace:function(o){if("undefined"!==typeof this.$element.data("parsleyNamespace")){return this.$element.data("parsleyNamespace")}if("undefined"!==typeof f.get(o,"namespace")){return o.namespace}if("undefined"!==typeof f.get(window,"ParsleyConfig.namespace")){return window.ParsleyConfig.namespace}return k.namespace},bind:function(r,q,o,t){var s;switch(r){case"parsleyForm":s=l.extend(new c(this.$element,this.OptionsFactory),new b(),window.ParsleyExtend)._bindFields();break;case"parsleyField":s=l.extend(new d(this.$element,this.OptionsFactory,q),new b(),window.ParsleyExtend);break;case"parsleyFieldMultiple":s=l.extend(new d(this.$element,this.OptionsFactory,q),new b(),new a(),window.ParsleyExtend)._init(o);break;default:throw new Error(r+"is not a supported Parsley type")}if("undefined"!==typeof o){f.setAttr(this.$element,this.options.namespace,"multiple",o)}if("undefined"!==typeof t){this.$element.data("ParsleyFieldMultiple",s);return s}if(new RegExp("ParsleyF","i").test(s.__class__)){this.$element.data("Parsley",s);l.emit("parsley:"+("parsleyForm"===r?"form":"field")+":init",s)}return s}};l.fn.parsley=l.fn.psly=function(o){if(this.length>1){var q=[];this.each(function(){q.push(l(this).parsley(o))});return q}if(!l(this).length){if(window.console&&window.console.warn){window.console.warn("You must bind Parsley on an existing element.")}return}return new j(this,o)};window.ParsleyUI="function"===typeof f.get(window,"ParsleyConfig.ParsleyUI")?new window.ParsleyConfig.ParsleyUI().listen():new g().listen();if("undefined"===typeof window.ParsleyExtend){window.ParsleyExtend={}}if("undefined"===typeof window.ParsleyConfig){window.ParsleyConfig={}}window.Parsley=window.psly=j;window.ParsleyUtils=f;window.ParsleyValidator=new i(window.ParsleyConfig.validators,window.ParsleyConfig.i18n);if(false!==f.get(window,"ParsleyConfig.autoBind")){l(function(){if(l("[data-parsley-validate]").length){l("[data-parsley-validate]").parsley()}})}}));
/*! Tappy! - a lightweight normalized tap event. Copyright 2013 @scottjehl, Filament Group, Inc. Licensed MIT */
(function(c,f,g){c.tapHandling=false;var d=function(h){return h.each(function(){var s=f(this),m,p,q,r,i=10;function k(t){f(t.target).trigger("tap",[t,f(t.target).attr("href")]);t.stopImmediatePropagation()}function o(v){var t=v.originalEvent||v,u=t.touches||t.targetTouches;if(u){return[u[0].pageX,u[0].pageY]}else{return null}}function j(u){if(u.touches&&u.touches.length>1||u.targetTouches&&u.targetTouches.length>1){return false}var t=o(u);q=t[0];p=t[1]}function l(u){if(!r){var t=o(u);if(t&&(Math.abs(p-t[1])>i||Math.abs(q-t[0])>i)){r=true}}}function n(t){clearTimeout(m);m=setTimeout(function(){c.tapHandling=false;r=false},1000);if((t.which&&t.which>1)||t.shiftKey||t.altKey||t.metaKey||t.ctrlKey){return}t.preventDefault();if(r||c.tapHandling&&c.tapHandling!==t.type){r=false;return}c.tapHandling=t.type;k(t)}s.bind("touchstart.tappy MSPointerDown.tappy",j).bind("touchmove.tappy MSPointerMove.tappy",l).bind("touchend.tappy MSPointerUp.tappy",n).bind("click.tappy",n)})};var a=function(h){return h.unbind(".tappy")};if(f.event&&f.event.special){f.event.special.tap={add:function(h){d(f(this))},remove:function(h){a(f(this))}}}else{var b=f.fn.bind,e=f.fn.unbind;f.fn.bind=function(h){if(/(^| )tap( |$)/.test(h)){d(this)}return b.apply(this,arguments)};f.fn.unbind=function(h){if(/(^| )tap( |$)/.test(h)){a(this)}return e.apply(this,arguments)}}}(this,jQuery));(function(){$("html").addClass("transitions");function j(){if($("#getActiveMQ-watcher").length){var p=$(window);var o=0;var q=$("#js-mq-example");var n=q.text();function m(){q.text("Yey! Alpha mode!")}function l(){var r=getActiveMQ();$("#js-mq-currentexample").text("Current screen: "+r);if(r=="aq"){m()}else{q.text(n)}if(!(r=="aq")&&!(r=="bq")){$(".js-JVC").viewportChecker({classToAdd:"s-is-visible",offset:96,repeat:false})}}l();p.on("resize",function(){clearTimeout(o);o=setTimeout(l,300)})}}function k(){if($(".js-imgLoader").length){var l=$(".js-imgLoader");l.each(function(o){var q=$(this);var n=q.find("img").eq(0);var p=new Image();var m=q.attr("data-loader");if(m=="true"){var r=$('<p class="js-loader"></p>');q.parent().css("position","relative");q.parent().append(r)}$(p).on("load",function(){setTimeout(function(){r.fadeOut("fast");q.removeClass("s-is-hidden")},o*300)});p.src=n.attr("src")})}}function i(){$("a.tappilyTap").bind("tap",function(l){window.location=l.target.href})}function b(){var m=$(".js-openmodal");var l=$(".js-closemodal");m.bind("tap",function(o){var n=$(this);var p=$(n.attr("data-modaltarget"));p.addClass("s-is-active")});l.bind("tap",function(){var o=$(this);var n=o.parents(".o-modal");n.removeClass("s-is-active")})}function e(){var l=$(".js-openalert");l.bind("tap",function(o){var n=$(this);var m=$(n.attr("data-alert-target"));m.addClass("s-is-active");setTimeout(function(){m.removeClass("s-is-active")},2500)})}function c(){$(".js-jumper").bind("tap",function(m){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var l=$(this.hash);l=l.length&&l||jQuery("[name="+this.hash.slice(1)+"]");if(l.length){var n=l.offset().top-24;$("html,body").animate({scrollTop:n},750)}}})}function a(){if($(".m-form").length){function l(){$("input:checked").parent(".a-label").addClass("s-is-checked");$("input:disabled").parent(".a-label").addClass("s-is-disabled");$('form[role="form"]').on("click",".a-label.checkbox, .a-label.radio",function(){var n=$(this);if(n.children().is(":disabled")){return false}var m=n.children("input:checkbox");if(m.length){if(m.is(":checked")){n.addClass("s-is-checked")}else{n.removeClass("s-is-checked")}}else{var o=n.siblings();o.removeClass("s-is-checked");n.addClass("s-is-checked")}})}l()}}function f(){if($(".js-videoParent").length){var l=$(".js-videoParent");l.fitVids()}}function h(){if($(".m-expand-section").length){var l=$(".m-expand-section");l.each(function(){var q=$(this);var m=q.innerHeight();var n=q.attr("data-divide-by");var o=q.attr("data-expand-text");var p=$('<button class="a-expand-section__button">'+o+"</button>");q.css("max-height",m/n);p.insertAfter(q);p.bind("tap",function(){var r=$(this);r.prev(l).css("max-height",m).addClass("s-is-expanded");r.addClass("s-is-hidden")})})}}function d(){if($(".m-toggled").length){var m=$(".m-toggled");m.each(function(){var o=$(this);if(o.is("ul")){var n=o.clone(true);n.find("li").slice(1).wrapAll('<li class="m-toggled__elem s-is-hidden"><ul></ul></li>');n.find("li:eq(0) > *").addClass("a-toggled__toggler");o.replaceWith(n)}});var l=$(".m-toggled__elem").prev();l.bind("tap",function(){var p=$(this);var o=p.parent(".m-toggled");var n=p.next(".m-toggled__elem");o.toggleClass("s-is-active");n.slideToggle("fast").removeClass("s-is-hidden")})}}function g(){function l(n){var o=n.find("img");var m=getActiveMQ();o.each(function(p){var q=$(this);setTimeout(function(){q.css("opacity","1")},p*150)})}if(!(screen=="aq")){$(".js-medialoadEffect").viewportChecker({classToAdd:"s-is-active",offset:168,callbackFunction:l,repeat:false})}}j();k();i();b();e();c();a();f();d();h();g();setTimeout(function(){var l=[".a-components__title",".example-2"].join(", ");$(l).css({visibility:"visible",opacity:"1",transform:"translate3d(0,0,0)"})},1000)})();