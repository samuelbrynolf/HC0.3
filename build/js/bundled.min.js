(function(a){a.fn.fitVids=function(b){var c={customSelector:null};if(!document.getElementById("fit-vids-style")){var f=document.createElement("div"),d=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0],e="&shy;<style>.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>";f.className="fit-vids-style";f.id="fit-vids-style";f.style.display="none";f.innerHTML=e;d.parentNode.insertBefore(f,d)}if(b){a.extend(c,b)}return this.each(function(){var g=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];if(c.customSelector){g.push(c.customSelector)}var h=a(this).find(g.join(","));h=h.not("object object");h.each(function(){var m=a(this);if(this.tagName.toLowerCase()==="embed"&&m.parent("object").length||m.parent(".fluid-width-video-wrapper").length){return}var i=(this.tagName.toLowerCase()==="object"||(m.attr("height")&&!isNaN(parseInt(m.attr("height"),10))))?parseInt(m.attr("height"),10):m.height(),j=!isNaN(parseInt(m.attr("width"),10))?parseInt(m.attr("width"),10):m.width(),k=i/j;if(!m.attr("id")){var l="fitvid"+Math.floor(Math.random()*999999);m.attr("id",l)}m.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",(k*100)+"%");m.removeAttr("height").removeAttr("width")})})}})(window.jQuery);if(typeof define==="undefined"){var define=function(d,c){core={};core.run=c;core.run($)}}define(["jquery"],function(e){var f;var a="unknown";var c={add:function(i,h,g){if(i.attachEvent){i["e"+h+g]=g;i[h+g]=function(){i["e"+h+g](window.event)};i.attachEvent("on"+h,i[h+g])}else{i.addEventListener(h,g,false)}}};var b=[];var d=function(){if(window.opera){var h=window.getComputedStyle(document.body,":after").getPropertyValue("content")}else{if(window.getComputedStyle){var h=window.getComputedStyle(document.head,null).getPropertyValue("font-family")}else{window.getCompStyle=function(i,j){this.el=i;this.getPropertyValue=function(l){var k=/(\-([a-z]){1})/g;if(l=="float"){l="styleFloat"}if(k.test(l)){l=l.replace(k,function(){return arguments[2].toUpperCase()})}return i.currentStyle[l]?i.currentStyle[l]:null};return this};var g=window.getCompStyle(document.getElementsByTagName("head")[0],"");var h=g.getPropertyValue("font-family")}}h=h.replace(/"/g,"");h=h.replace(/'/g,"");if(h!=a){a=h;e(window).trigger("mqchange",[a]);e(window).trigger("mqchange:"+a,[a])}return a};e(window).on("resize",d);e(window).load(function(){a="unknown";d()});e(window).on("mqcheck",function(){a="unknown";d()});d();return{check:d}});
/*!
* Parsleyjs
* Guillaume Potier - <guillaume@wisembly.com>
* Version 2.0.5 - built Thu Aug 28 2014 11:33:36
* MIT Licensed
*
*/
;!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):b(jQuery)}(function(D){"undefined"==typeof D&&"undefined"!=typeof window.jQuery&&(D=window.jQuery);var C={attr:function(j,i,E){var o,n={},m=this.msieversion(),l=new RegExp("^"+i,"i");if("undefined"==typeof j||"undefined"==typeof j[0]){return{}}for(var k in j[0].attributes){if(o=j[0].attributes[k],"undefined"!=typeof o&&null!==o&&(!m||m>=8||o.specified)&&l.test(o.name)){if("undefined"!=typeof E&&new RegExp(E+"$","i").test(o.name)){return !0}n[this.camelize(o.name.replace(i,""))]=this.deserializeValue(o.value)}}return"undefined"==typeof E?n:!1},setAttr:function(f,e,h,g){f[0].setAttribute(this.dasherize(e+h),String(g))},get:function(f,e){for(var h=0,g=(e||"").split(".");this.isObject(f)||this.isArray(f);){if(f=f[g[h++]],h===g.length){return f}}return void 0},hash:function(b){return String(Math.random()).substring(2,b?b+2:9)},isArray:function(b){return"[object Array]"===Object.prototype.toString.call(b)},isObject:function(b){return b===Object(b)},deserializeValue:function(a){var f;try{return a?"true"==a||("false"==a?!1:"null"==a?null:isNaN(f=Number(a))?/^[\[\{]/.test(a)?D.parseJSON(a):a:f):a}catch(e){return a}},camelize:function(b){return b.replace(/-+(.)?/g,function(d,c){return c?c.toUpperCase():""})},dasherize:function(b){return b.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()},msieversion:function(){var d=window.navigator.userAgent,c=d.indexOf("MSIE ");return c>0||navigator.userAgent.match(/Trident.*rv\:11\./)?parseInt(d.substring(c+5,d.indexOf(".",c)),10):0}},B={namespace:"data-parsley-",inputs:"input, textarea, select",excluded:"input[type=button], input[type=submit], input[type=reset], input[type=hidden]",priorityEnabled:!0,uiEnabled:!0,validationThreshold:3,focus:"first",trigger:!1,errorClass:"parsley-error",successClass:"parsley-success",classHandler:function(){},errorsContainer:function(){},errorsWrapper:'<ul class="parsley-errors-list"></ul>',errorTemplate:"<li></li>"},A=function(){};A.prototype={asyncSupport:!1,actualizeOptions:function(){return this.options=this.OptionsFactory.get(this),this},validateThroughValidator:function(e,d,f){return window.ParsleyValidator.validate.apply(window.ParsleyValidator,[e,d,f])},subscribe:function(a,d){return D.listenTo(this,a.toLowerCase(),d),this},unsubscribe:function(a){return D.unsubscribeTo(this,a.toLowerCase()),this},reset:function(){if("ParsleyForm"!==this.__class__){return D.emit("parsley:field:reset",this)}for(var a=0;a<this.fields.length;a++){D.emit("parsley:field:reset",this.fields[a])}D.emit("parsley:form:reset",this)},destroy:function(){if("ParsleyForm"!==this.__class__){return this.$element.removeData("Parsley"),this.$element.removeData("ParsleyFieldMultiple"),void D.emit("parsley:field:destroy",this)}for(var a=0;a<this.fields.length;a++){this.fields[a].destroy()}this.$element.removeData("Parsley"),D.emit("parsley:form:destroy",this)}};var z=function(){var i={},h=function(b){this.__class__="Validator",this.__version__="1.0.0",this.options=b||{},this.bindingKey=this.options.bindingKey||"_validatorjsConstraint"};h.prototype={constructor:h,validate:function(e,d,f){if("string"!=typeof e&&"object"!=typeof e){throw new Error("You must validate an object or a string")}return"string"==typeof e||j(e)?this._validateString(e,d,f):this.isBinded(e)?this._validateBindedObject(e,d):this._validateObject(e,d,f)},bind:function(d,c){if("object"!=typeof d){throw new Error("Must bind a Constraint to an object")}return d[this.bindingKey]=new n(c),this},unbind:function(b){return"undefined"==typeof b._validatorjsConstraint?this:(delete b[this.bindingKey],this)},isBinded:function(b){return"undefined"!=typeof b[this.bindingKey]},getBinded:function(b){return this.isBinded(b)?b[this.bindingKey]:null},_validateString:function(e,d,F){var E,o=[];j(d)||(d=[d]);for(var g=0;g<d.length;g++){if(!(d[g] instanceof l)){throw new Error("You must give an Assert or an Asserts array to validate a string")}E=d[g].check(e,F),E instanceof m&&o.push(E)}return o.length?o:!0},_validateObject:function(e,c,f){if("object"!=typeof c){throw new Error("You must give a constraint to validate an object")}return c instanceof n?c.check(e,f):new n(c).check(e,f)},_validateBindedObject:function(d,c){return d[this.bindingKey].check(d,c)}},h.errorCode={must_be_a_string:"must_be_a_string",must_be_an_array:"must_be_an_array",must_be_a_number:"must_be_a_number",must_be_a_string_or_array:"must_be_a_string_or_array"};var n=function(e,d){if(this.__class__="Constraint",this.options=d||{},this.nodes={},e){try{this._bootstrap(e)}catch(f){throw new Error("Should give a valid mapping object to Constraint",f,e)}}};n.prototype={constructor:n,check:function(J,I){var H,G={};for(var F in this.nodes){for(var E=!1,o=this.get(F),g=j(o)?o:[o],f=g.length-1;f>=0;f--){"Required"!==g[f].__class__||(E=g[f].requiresValidation(I))}if(this.has(F,J)||this.options.strict||E){try{this.has(F,this.options.strict||E?J:void 0)||(new l).HaveProperty(F).validate(J),H=this._check(F,J[F],I),(j(H)&&H.length>0||!j(H)&&!k(H))&&(G[F]=H)}catch(e){G[F]=e}}}return k(G)?!0:G},add:function(d,c){if(c instanceof l||j(c)&&c[0] instanceof l){return this.nodes[d]=c,this}if("object"==typeof c&&!j(c)){return this.nodes[d]=c instanceof n?c:new n(c),this}throw new Error("Should give an Assert, an Asserts array, a Constraint",c)},has:function(d,c){return c="undefined"!=typeof c?c:this.nodes,"undefined"!=typeof c[d]},get:function(d,c){return this.has(d)?this.nodes[d]:c||null},remove:function(e){var d=[];for(var f in this.nodes){f!==e&&(d[f]=this.nodes[f])}return this.nodes=d,this},_bootstrap:function(d){if(d instanceof n){return this.nodes=d.nodes}for(var c in d){this.add(c,d[c])}},_check:function(e,c,f){if(this.nodes[e] instanceof l){return this._checkAsserts(c,[this.nodes[e]],f)}if(j(this.nodes[e])){return this._checkAsserts(c,this.nodes[e],f)}if(this.nodes[e] instanceof n){return this.nodes[e].check(c,f)}throw new Error("Invalid node",this.nodes[e])},_checkAsserts:function(o,g,H){for(var G,F=[],E=0;E<g.length;E++){G=g[E].check(o,H),"undefined"!=typeof G&&!0!==G&&F.push(G)}return F}};var m=function(e,d,f){if(this.__class__="Violation",!(e instanceof l)){throw new Error("Should give an assertion implementing the Assert interface")}this.assert=e,this.value=d,"undefined"!=typeof f&&(this.violation=f)};m.prototype={show:function(){var b={assert:this.assert.__class__,value:this.value};return this.violation&&(b.violation=this.violation),b},__toString:function(){return"undefined"!=typeof this.violation&&(this.violation='", '+this.getViolation().constraint+" expected was "+this.getViolation().expected),this.assert.__class__+' assert failed for "'+this.value+this.violation||""},getViolation:function(){var d,c;for(d in this.violation){c=this.violation[d]}return{constraint:d,expected:c}}};var l=function(b){this.__class__="Assert",this.__parentClass__=this.__class__,this.groups=[],"undefined"!=typeof b&&this.addGroup(b)};l.prototype={construct:l,requiresValidation:function(b){return b&&!this.hasGroup(b)?!1:!b&&this.hasGroups()?!1:!0},check:function(e,d){if(this.requiresValidation(d)){try{return this.validate(e,d)}catch(f){return f}}},hasGroup:function(b){return j(b)?this.hasOneOf(b):"Any"===b?!0:this.hasGroups()?-1!==this.groups.indexOf(b):"Default"===b},hasOneOf:function(d){for(var c=0;c<d.length;c++){if(this.hasGroup(d[c])){return !0}}return !1},hasGroups:function(){return this.groups.length>0},addGroup:function(b){return j(b)?this.addGroups(b):(this.hasGroup(b)||this.groups.push(b),this)},removeGroup:function(e){for(var d=[],f=0;f<this.groups.length;f++){e!==this.groups[f]&&d.push(this.groups[f])}return this.groups=d,this},addGroups:function(d){for(var c=0;c<d.length;c++){this.addGroup(d[c])}return this},HaveProperty:function(b){return this.__class__="HaveProperty",this.node=b,this.validate=function(c){if("undefined"==typeof c[this.node]){throw new m(this,c,{value:this.node})}return !0},this},Blank:function(){return this.__class__="Blank",this.validate=function(b){if("string"!=typeof b){throw new m(this,b,{value:h.errorCode.must_be_a_string})}if(""!==b.replace(/^\s+/g,"").replace(/\s+$/g,"")){throw new m(this,b)}return !0},this},Callback:function(b){if(this.__class__="Callback",this.arguments=Array.prototype.slice.call(arguments),1===this.arguments.length?this.arguments=[]:this.arguments.splice(0,1),"function"!=typeof b){throw new Error("Callback must be instanciated with a function")}return this.fn=b,this.validate=function(d){var c=this.fn.apply(this,[d].concat(this.arguments));if(!0!==c){throw new m(this,d,{result:c})}return !0},this},Choice:function(b){if(this.__class__="Choice",!j(b)&&"function"!=typeof b){throw new Error("Choice must be instanciated with an array or a function")}return this.list=b,this.validate=function(e){for(var d="function"==typeof this.list?this.list():this.list,f=0;f<d.length;f++){if(e===d[f]){return !0}}throw new m(this,e,{choices:d})},this},Collection:function(b){return this.__class__="Collection",this.constraint="undefined"!=typeof b?b instanceof l?b:new n(b):!1,this.validate=function(f,H){var G,F=new h,E=0,o={},g=this.groups.length?this.groups:H;if(!j(f)){throw new m(this,array,{value:h.errorCode.must_be_an_array})}for(var d=0;d<f.length;d++){G=this.constraint?F.validate(f[d],this.constraint,g):F.validate(f[d],g),k(G)||(o[E]=G),E++}return k(o)?!0:o},this},Count:function(b){return this.__class__="Count",this.count=b,this.validate=function(d){if(!j(d)){throw new m(this,d,{value:h.errorCode.must_be_an_array})}var e="function"==typeof this.count?this.count(d):this.count;if(isNaN(Number(e))){throw new Error("Count must be a valid interger",e)}if(e!==d.length){throw new m(this,d,{count:e})}return !0},this},Email:function(){return this.__class__="Email",this.validate=function(b){var d=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;if("string"!=typeof b){throw new m(this,b,{value:h.errorCode.must_be_a_string})}if(!d.test(b)){throw new m(this,b)}return !0},this},EqualTo:function(b){if(this.__class__="EqualTo","undefined"==typeof b){throw new Error("EqualTo must be instanciated with a value or a function")}return this.reference=b,this.validate=function(d){var c="function"==typeof this.reference?this.reference(d):this.reference;if(c!==d){throw new m(this,d,{value:c})}return !0},this},GreaterThan:function(b){if(this.__class__="GreaterThan","undefined"==typeof b){throw new Error("Should give a threshold value")}return this.threshold=b,this.validate=function(c){if(""===c||isNaN(Number(c))){throw new m(this,c,{value:h.errorCode.must_be_a_number})}if(this.threshold>=c){throw new m(this,c,{threshold:this.threshold})}return !0},this},GreaterThanOrEqual:function(b){if(this.__class__="GreaterThanOrEqual","undefined"==typeof b){throw new Error("Should give a threshold value")}return this.threshold=b,this.validate=function(c){if(""===c||isNaN(Number(c))){throw new m(this,c,{value:h.errorCode.must_be_a_number})}if(this.threshold>c){throw new m(this,c,{threshold:this.threshold})}return !0},this},InstanceOf:function(b){if(this.__class__="InstanceOf","undefined"==typeof b){throw new Error("InstanceOf must be instanciated with a value")}return this.classRef=b,this.validate=function(c){if(!0!=c instanceof this.classRef){throw new m(this,c,{classRef:this.classRef})}return !0},this},Length:function(b){if(this.__class__="Length",!b.min&&!b.max){throw new Error("Lenth assert must be instanciated with a { min: x, max: y } object")}return this.min=b.min,this.max=b.max,this.validate=function(c){if("string"!=typeof c&&!j(c)){throw new m(this,c,{value:h.errorCode.must_be_a_string_or_array})}if("undefined"!=typeof this.min&&this.min===this.max&&c.length!==this.min){throw new m(this,c,{min:this.min,max:this.max})}if("undefined"!=typeof this.max&&c.length>this.max){throw new m(this,c,{max:this.max})}if("undefined"!=typeof this.min&&c.length<this.min){throw new m(this,c,{min:this.min})}return !0},this},LessThan:function(b){if(this.__class__="LessThan","undefined"==typeof b){throw new Error("Should give a threshold value")}return this.threshold=b,this.validate=function(c){if(""===c||isNaN(Number(c))){throw new m(this,c,{value:h.errorCode.must_be_a_number})}if(this.threshold<=c){throw new m(this,c,{threshold:this.threshold})}return !0},this},LessThanOrEqual:function(b){if(this.__class__="LessThanOrEqual","undefined"==typeof b){throw new Error("Should give a threshold value")}return this.threshold=b,this.validate=function(c){if(""===c||isNaN(Number(c))){throw new m(this,c,{value:h.errorCode.must_be_a_number})}if(this.threshold<c){throw new m(this,c,{threshold:this.threshold})}return !0},this},NotNull:function(){return this.__class__="NotNull",this.validate=function(b){if(null===b||"undefined"==typeof b){throw new m(this,b)}return !0},this},NotBlank:function(){return this.__class__="NotBlank",this.validate=function(b){if("string"!=typeof b){throw new m(this,b,{value:h.errorCode.must_be_a_string})}if(""===b.replace(/^\s+/g,"").replace(/\s+$/g,"")){throw new m(this,b)}return !0},this},Null:function(){return this.__class__="Null",this.validate=function(b){if(null!==b){throw new m(this,b)}return !0},this},Range:function(d,c){if(this.__class__="Range","undefined"==typeof d||"undefined"==typeof c){throw new Error("Range assert expects min and max values")}return this.min=d,this.max=c,this.validate=function(f){try{return"string"==typeof f&&isNaN(Number(f))||j(f)?(new l).Length({min:this.min,max:this.max}).validate(f):(new l).GreaterThanOrEqual(this.min).validate(f)&&(new l).LessThanOrEqual(this.max).validate(f),!0}catch(e){throw new m(this,f,e.violation)}return !0},this},Regexp:function(b,d){if(this.__class__="Regexp","undefined"==typeof b){throw new Error("You must give a regexp")}return this.regexp=b,this.flag=d||"",this.validate=function(c){if("string"!=typeof c){throw new m(this,c,{value:h.errorCode.must_be_a_string})}if(!new RegExp(this.regexp,this.flag).test(c)){throw new m(this,c,{regexp:this.regexp,flag:this.flag})}return !0},this},Required:function(){return this.__class__="Required",this.validate=function(d){if("undefined"==typeof d){throw new m(this,d)}try{"string"==typeof d?(new l).NotNull().validate(d)&&(new l).NotBlank().validate(d):!0===j(d)&&(new l).Length({min:1}).validate(d)}catch(c){throw new m(this,d)}return !0},this},Unique:function(b){return this.__class__="Unique","object"==typeof b&&(this.key=b.key),this.validate=function(d){var E,o=[];if(!j(d)){throw new m(this,d,{value:h.errorCode.must_be_an_array})}for(var g=0;g<d.length;g++){if(E="object"==typeof d[g]?d[g][this.key]:d[g],"undefined"!=typeof E){if(-1!==o.indexOf(E)){throw new m(this,d,{value:E})}o.push(E)}}return !0},this}},i.Assert=l,i.Validator=h,i.Violation=m,i.Constraint=n,Array.prototype.indexOf||(Array.prototype.indexOf=function(g){if(null===this){throw new TypeError}var f=Object(this),F=f.length>>>0;if(0===F){return -1}var E=0;if(arguments.length>1&&(E=Number(arguments[1]),E!=E?E=0:0!==E&&1/0!=E&&E!=-1/0&&(E=(E>0||-1)*Math.floor(Math.abs(E)))),E>=F){return -1}for(var o=E>=0?E:Math.max(F-Math.abs(E),0);F>o;o++){if(o in f&&f[o]===g){return o}}return -1});var k=function(d){for(var c in d){return !1}return !0},j=function(b){return"[object Array]"===Object.prototype.toString.call(b)};return"function"==typeof define&&define.amd?define("vendors/validator.js/dist/validator",[],function(){return i}):"undefined"!=typeof module&&module.exports?module.exports=i:window["undefined"!=typeof validatorjs_ns?validatorjs_ns:"Validator"]=i,i}();z="undefined"!=typeof z?z:"undefined"!=typeof module?module.exports:null;var y=function(d,c){this.__class__="ParsleyValidator",this.Validator=z,this.locale="en",this.init(d||{},c||{})};y.prototype={init:function(a,f){this.catalog=f;for(var e in a){this.addValidator(e,a[e].fn,a[e].priority,a[e].requirementsTransformer)}D.emit("parsley:validator:init")},setLocale:function(b){if("undefined"==typeof this.catalog[b]){throw new Error(b+" is not available in the catalog")}return this.locale=b,this},addCatalog:function(e,d,f){return"object"==typeof d&&(this.catalog[e]=d),!0===f?this.setLocale(e):this},addMessage:function(e,d,f){return"undefined"==typeof this.catalog[e]&&(this.catalog[e]={}),this.catalog[e][d.toLowerCase()]=f,this},validate:function(){return(new this.Validator.Validator).validate.apply(new z.Validator,arguments)},addValidator:function(a,h,g,e){return this.validators[a.toLowerCase()]=function(c){return D.extend((new z.Assert).Callback(h,c),{priority:g,requirementsTransformer:e})},this},updateValidator:function(f,e,h,g){return this.addValidator(f,e,h,g)},removeValidator:function(b){return delete this.validators[b],this},getErrorMessage:function(d){var c;return c="type"===d.name?this.catalog[this.locale][d.name][d.requirements]:this.formatMessage(this.catalog[this.locale][d.name],d.requirements),""!==c?c:this.catalog[this.locale].defaultMessage},formatMessage:function(e,d){if("object"==typeof d){for(var f in d){e=this.formatMessage(e,d[f])}return e}return"string"==typeof e?e.replace(new RegExp("%s","i"),d):""},validators:{notblank:function(){return D.extend((new z.Assert).NotBlank(),{priority:2})},required:function(){return D.extend((new z.Assert).Required(),{priority:512})},type:function(a){var d;switch(a){case"email":d=(new z.Assert).Email();break;case"range":case"number":d=(new z.Assert).Regexp("^-?(?:\\d+|\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$");break;case"integer":d=(new z.Assert).Regexp("^-?\\d+$");break;case"digits":d=(new z.Assert).Regexp("^\\d+$");break;case"alphanum":d=(new z.Assert).Regexp("^\\w+$","i");break;case"url":d=(new z.Assert).Regexp("(https?:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,4}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)","i");break;default:throw new Error("validator type `"+a+"` is not supported")}return D.extend(d,{priority:256})},pattern:function(a){var d="";return/^\/.*\/(?:[gimy]*)$/.test(a)&&(d=a.replace(/.*\/([gimy]*)$/,"$1"),a=a.replace(new RegExp("^/(.*?)/"+d+"$"),"$1")),D.extend((new z.Assert).Regexp(a,d),{priority:64})},minlength:function(a){return D.extend((new z.Assert).Length({min:a}),{priority:30,requirementsTransformer:function(){return"string"!=typeof a||isNaN(a)?a:parseInt(a,10)}})},maxlength:function(a){return D.extend((new z.Assert).Length({max:a}),{priority:30,requirementsTransformer:function(){return"string"!=typeof a||isNaN(a)?a:parseInt(a,10)}})},length:function(a){return D.extend((new z.Assert).Length({min:a[0],max:a[1]}),{priority:32})},mincheck:function(b){return this.minlength(b)},maxcheck:function(b){return this.maxlength(b)},check:function(b){return this.length(b)},min:function(a){return D.extend((new z.Assert).GreaterThanOrEqual(a),{priority:30,requirementsTransformer:function(){return"string"!=typeof a||isNaN(a)?a:parseInt(a,10)}})},max:function(a){return D.extend((new z.Assert).LessThanOrEqual(a),{priority:30,requirementsTransformer:function(){return"string"!=typeof a||isNaN(a)?a:parseInt(a,10)}})},range:function(a){return D.extend((new z.Assert).Range(a[0],a[1]),{priority:32,requirementsTransformer:function(){for(var b=0;b<a.length;b++){a[b]="string"!=typeof a[b]||isNaN(a[b])?a[b]:parseInt(a[b],10)}return a}})},equalto:function(a){return D.extend((new z.Assert).EqualTo(a),{priority:256,requirementsTransformer:function(){return D(a).length?D(a).val():a}})}}};var x=function(){this.__class__="ParsleyUI"};x.prototype={listen:function(){return D.listen("parsley:form:init",this,this.setupForm),D.listen("parsley:field:init",this,this.setupField),D.listen("parsley:field:validated",this,this.reflow),D.listen("parsley:form:validated",this,this.focus),D.listen("parsley:field:reset",this,this.reset),D.listen("parsley:form:destroy",this,this.destroy),D.listen("parsley:field:destroy",this,this.destroy),this},reflow:function(d){if("undefined"!=typeof d._ui&&!1!==d._ui.active){var c=this._diff(d.validationResult,d._ui.lastValidationResult);d._ui.lastValidationResult=d.validationResult,d._ui.validatedOnce=!0,this.manageStatusClass(d),this.manageErrorsMessages(d,c),this.actualizeTriggers(d),(c.kept.length||c.added.length)&&"undefined"==typeof d._ui.failedOnce&&this.manageFailingFieldTrigger(d)}},getErrorsMessages:function(e){if(!0===e.validationResult){return[]}for(var d=[],f=0;f<e.validationResult.length;f++){d.push(this._getErrorMessage(e,e.validationResult[f].assert))}return d},manageStatusClass:function(b){!0===b.validationResult?this._successClass(b):b.validationResult.length>0?this._errorClass(b):this._resetClass(b)},manageErrorsMessages:function(a,f){if("undefined"==typeof a.options.errorsMessagesDisabled){if("undefined"!=typeof a.options.errorMessage){return f.added.length||f.kept.length?(0===a._ui.$errorsWrapper.find(".parsley-custom-error-message").length&&a._ui.$errorsWrapper.append(D(a.options.errorTemplate).addClass("parsley-custom-error-message")),a._ui.$errorsWrapper.addClass("filled").find(".parsley-custom-error-message").html(a.options.errorMessage)):a._ui.$errorsWrapper.removeClass("filled").find(".parsley-custom-error-message").remove()}for(var e=0;e<f.removed.length;e++){this.removeError(a,f.removed[e].assert.name,!0)}for(e=0;e<f.added.length;e++){this.addError(a,f.added[e].assert.name,void 0,f.added[e].assert,!0)}for(e=0;e<f.kept.length;e++){this.updateError(a,f.kept[e].assert.name,void 0,f.kept[e].assert,!0)}}},addError:function(a,j,i,h,g){a._ui.$errorsWrapper.addClass("filled").append(D(a.options.errorTemplate).addClass("parsley-"+j).html(i||this._getErrorMessage(a,h))),!0!==g&&this._errorClass(a)},updateError:function(g,f,j,i,h){g._ui.$errorsWrapper.addClass("filled").find(".parsley-"+f).html(j||this._getErrorMessage(g,i)),!0!==h&&this._errorClass(g)},removeError:function(e,d,f){e._ui.$errorsWrapper.removeClass("filled").find(".parsley-"+d).remove(),!0!==f&&this.manageStatusClass(e)},focus:function(d){if(!0===d.validationResult||"none"===d.options.focus){return d._focusedField=null}d._focusedField=null;for(var c=0;c<d.fields.length;c++){if(!0!==d.fields[c].validationResult&&d.fields[c].validationResult.length>0&&"undefined"==typeof d.fields[c].options.noFocus){if("first"===d.options.focus){return d._focusedField=d.fields[c].$element,d._focusedField.focus()}d._focusedField=d.fields[c].$element}}return null===d._focusedField?null:d._focusedField.focus()},_getErrorMessage:function(e,d){var f=d.name+"Message";return"undefined"!=typeof e.options[f]?window.ParsleyValidator.formatMessage(e.options[f],d.requirements):window.ParsleyValidator.getErrorMessage(d)},_diff:function(j,i,E){for(var o=[],n=[],m=0;m<j.length;m++){for(var l=!1,k=0;k<i.length;k++){if(j[m].assert.name===i[k].assert.name){l=!0;break}}l?n.push(j[m]):o.push(j[m])}return{kept:n,added:o,removed:E?[]:this._diff(i,j,!0).added}},setupForm:function(a){a.$element.on("submit.Parsley",!1,D.proxy(a.onSubmitValidate,a)),!1!==a.options.uiEnabled&&a.$element.attr("novalidate","")},setupField:function(a){var d={active:!1};!1!==a.options.uiEnabled&&(d.active=!0,a.$element.attr(a.options.namespace+"id",a.__id__),d.$errorClassHandler=this._manageClassHandler(a),d.errorsWrapperId="parsley-id-"+("undefined"!=typeof a.options.multiple?"multiple-"+a.options.multiple:a.__id__),d.$errorsWrapper=D(a.options.errorsWrapper).attr("id",d.errorsWrapperId),d.lastValidationResult=[],d.validatedOnce=!1,d.validationInformationVisible=!1,a._ui=d,a.$element.is(a.options.excluded)||this._insertErrorWrapper(a),this.actualizeTriggers(a))},_manageClassHandler:function(a){if("string"==typeof a.options.classHandler&&D(a.options.classHandler).length){return D(a.options.classHandler)}var d=a.options.classHandler(a);return"undefined"!=typeof d&&d.length?d:"undefined"==typeof a.options.multiple||a.$element.is("select")?a.$element:a.$element.parent()},_insertErrorWrapper:function(a){var d;if("string"==typeof a.options.errorsContainer){if(D(a.options.errorsContainer).length){return D(a.options.errorsContainer).append(a._ui.$errorsWrapper)}window.console&&window.console.warn&&window.console.warn("The errors container `"+a.options.errorsContainer+"` does not exist in DOM")}else{"function"==typeof a.options.errorsContainer&&(d=a.options.errorsContainer(a))}return"undefined"!=typeof d&&d.length?d.append(a._ui.$errorsWrapper):"undefined"==typeof a.options.multiple?a.$element.after(a._ui.$errorsWrapper):a.$element.parent().after(a._ui.$errorsWrapper)},actualizeTriggers:function(a){var f=this;if(a.options.multiple?D("["+a.options.namespace+'multiple="'+a.options.multiple+'"]').each(function(){D(this).off(".Parsley")}):a.$element.off(".Parsley"),!1!==a.options.trigger){var e=a.options.trigger.replace(/^\s+/g,"").replace(/\s+$/g,"");""!==e&&(a.options.multiple?D("["+a.options.namespace+'multiple="'+a.options.multiple+'"]').each(function(){D(this).on(e.split(" ").join(".Parsley ")+".Parsley",!1,D.proxy("function"==typeof a.eventValidate?a.eventValidate:f.eventValidate,a))}):a.$element.on(e.split(" ").join(".Parsley ")+".Parsley",!1,D.proxy("function"==typeof a.eventValidate?a.eventValidate:this.eventValidate,a)))}},eventValidate:function(b){new RegExp("key").test(b.type)&&!this._ui.validationInformationVisible&&this.getValue().length<=this.options.validationThreshold||(this._ui.validatedOnce=!0,this.validate())},manageFailingFieldTrigger:function(a){return a._ui.failedOnce=!0,a.options.multiple&&D("["+a.options.namespace+'multiple="'+a.options.multiple+'"]').each(function(){return new RegExp("change","i").test(D(this).parsley().options.trigger||"")?void 0:D(this).on("change.ParsleyFailedOnce",!1,D.proxy(a.validate,a))}),a.$element.is("select")&&!new RegExp("change","i").test(a.options.trigger||"")?a.$element.on("change.ParsleyFailedOnce",!1,D.proxy(a.validate,a)):new RegExp("keyup","i").test(a.options.trigger||"")?void 0:a.$element.on("keyup.ParsleyFailedOnce",!1,D.proxy(a.validate,a))},reset:function(a){a.$element.off(".Parsley"),a.$element.off(".ParsleyFailedOnce"),"undefined"!=typeof a._ui&&"ParsleyForm"!==a.__class__&&(a._ui.$errorsWrapper.children().each(function(){D(this).remove()}),this._resetClass(a),a._ui.validatedOnce=!1,a._ui.lastValidationResult=[],a._ui.validationInformationVisible=!1)},destroy:function(b){this.reset(b),"ParsleyForm"!==b.__class__&&("undefined"!=typeof b._ui&&b._ui.$errorsWrapper.remove(),delete b._ui)},_successClass:function(b){b._ui.validationInformationVisible=!0,b._ui.$errorClassHandler.removeClass(b.options.errorClass).addClass(b.options.successClass)},_errorClass:function(b){b._ui.validationInformationVisible=!0,b._ui.$errorClassHandler.removeClass(b.options.successClass).addClass(b.options.errorClass)},_resetClass:function(b){b._ui.$errorClassHandler.removeClass(b.options.successClass).removeClass(b.options.errorClass)}};var w=function(h,g,b,a){this.__class__="OptionsFactory",this.__id__=C.hash(4),this.formOptions=null,this.fieldOptions=null,this.staticOptions=D.extend(!0,{},h,g,b,{namespace:a})};w.prototype={get:function(b){if("undefined"==typeof b.__class__){throw new Error("Parsley Instance expected")}switch(b.__class__){case"Parsley":return this.staticOptions;case"ParsleyForm":return this.getFormOptions(b);case"ParsleyField":case"ParsleyFieldMultiple":return this.getFieldOptions(b);default:throw new Error("Instance "+b.__class__+" is not supported")}},getFormOptions:function(a){return this.formOptions=C.attr(a.$element,this.staticOptions.namespace),D.extend({},this.staticOptions,this.formOptions)},getFieldOptions:function(a){return this.fieldOptions=C.attr(a.$element,this.staticOptions.namespace),null===this.formOptions&&"undefined"!=typeof a.parent&&(this.formOptions=this.getFormOptions(a.parent)),D.extend({},this.staticOptions,this.formOptions,this.fieldOptions)}};var v=function(b,a){if(this.__class__="ParsleyForm",this.__id__=C.hash(4),"OptionsFactory"!==C.get(a,"__class__")){throw new Error("You must give an OptionsFactory instance")}this.OptionsFactory=a,this.$element=D(b),this.validationResult=null,this.options=this.OptionsFactory.get(this)};v.prototype={onSubmitValidate:function(a){return this.validate(void 0,void 0,a),!1===this.validationResult&&a instanceof D.Event&&(a.stopImmediatePropagation(),a.preventDefault()),this},validate:function(a,j,i){this.submitEvent=i,this.validationResult=!0;var h=[];this._refreshFields(),D.emit("parsley:form:validate",this);for(var g=0;g<this.fields.length;g++){(!a||this._isFieldInGroup(this.fields[g],a))&&(h=this.fields[g].validate(j),!0!==h&&h.length>0&&this.validationResult&&(this.validationResult=!1))}return D.emit("parsley:form:validated",this),this.validationResult},isValid:function(e,d){this._refreshFields();for(var f=0;f<this.fields.length;f++){if((!e||this._isFieldInGroup(this.fields[f],e))&&!1===this.fields[f].isValid(d)){return !1}}return !0},_isFieldInGroup:function(b,a){return C.isArray(b.options.group)?-1!==D.inArray(b.options.group,a):b.options.group===a},_refreshFields:function(){return this.actualizeOptions()._bindFields()},_bindFields:function(){var b=this;return this.fields=[],this.fieldsMappedById={},this.$element.find(this.options.inputs).each(function(){var a=new window.Parsley(this,{},b);"ParsleyField"!==a.__class__&&"ParsleyFieldMultiple"!==a.__class__||a.$element.is(a.options.excluded)||"undefined"==typeof b.fieldsMappedById[a.__class__+"-"+a.__id__]&&(b.fieldsMappedById[a.__class__+"-"+a.__id__]=a,b.fields.push(a))}),this}};var u=function(l,k,j,i,b){if(!new RegExp("ParsleyField").test(C.get(l,"__class__"))){throw new Error("ParsleyField or ParsleyFieldMultiple instance expected")}if("function"!=typeof window.ParsleyValidator.validators[k]&&"Assert"!==window.ParsleyValidator.validators[k](j).__parentClass__){throw new Error("Valid validator expected")}var a=function(d,e){return"undefined"!=typeof d.options[e+"Priority"]?d.options[e+"Priority"]:C.get(window.ParsleyValidator.validators[e](j),"priority")||2};return i=i||a(l,k),"function"==typeof window.ParsleyValidator.validators[k](j).requirementsTransformer&&(j=window.ParsleyValidator.validators[k](j).requirementsTransformer()),D.extend(window.ParsleyValidator.validators[k](j),{name:k,requirements:j,priority:i,groups:[i],isDomConstraint:b||C.attr(l.$element,l.options.namespace,k)})},t=function(f,b,a){this.__class__="ParsleyField",this.__id__=C.hash(4),this.$element=D(f),"undefined"!=typeof a?(this.parent=a,this.OptionsFactory=this.parent.OptionsFactory,this.options=this.OptionsFactory.get(this)):(this.OptionsFactory=b,this.options=this.OptionsFactory.get(this)),this.constraints=[],this.constraintsByName={},this.validationResult=[],this._bindConstraints()};t.prototype={validate:function(a){return this.value=this.getValue(),D.emit("parsley:field:validate",this),D.emit("parsley:field:"+(this.isValid(a,this.value)?"success":"error"),this),D.emit("parsley:field:validated",this),this.validationResult},isValid:function(f,e){this.refreshConstraints();var h=this._getConstraintsSortedPriorities();if(e=e||this.getValue(),0===e.length&&!this._isRequired()&&"undefined"==typeof this.options.validateIfEmpty&&!0!==f){return this.validationResult=[]}if(!1===this.options.priorityEnabled){return !0===(this.validationResult=this.validateThroughValidator(e,this.constraints,"Any"))}for(var g=0;g<h.length;g++){if(!0!==(this.validationResult=this.validateThroughValidator(e,this.constraints,h[g]))){return !1}}return !0},getValue:function(){var b;return b="undefined"!=typeof this.options.value?this.options.value:this.$element.val(),"undefined"==typeof b||null===b?"":!0===this.options.trimValue?b.replace(/^\s+|\s+$/g,""):b},refreshConstraints:function(){return this.actualizeOptions()._bindConstraints()},addConstraint:function(g,f,j,i){if(g=g.toLowerCase(),"function"==typeof window.ParsleyValidator.validators[g]){var h=new u(this,g,f,j,i);"undefined"!==this.constraintsByName[h.name]&&this.removeConstraint(h.name),this.constraints.push(h),this.constraintsByName[h.name]=h}return this},removeConstraint:function(d){for(var c=0;c<this.constraints.length;c++){if(d===this.constraints[c].name){this.constraints.splice(c,1);break}}return this},updateConstraint:function(e,d,f){return this.removeConstraint(e).addConstraint(e,d,f)},_bindConstraints:function(){for(var e=[],d=0;d<this.constraints.length;d++){!1===this.constraints[d].isDomConstraint&&e.push(this.constraints[d])}this.constraints=e;for(var f in this.options){this.addConstraint(f,this.options[f])}return this._bindHtml5Constraints()},_bindHtml5Constraints:function(){(this.$element.hasClass("required")||this.$element.attr("required"))&&this.addConstraint("required",!0,void 0,!0),"string"==typeof this.$element.attr("pattern")&&this.addConstraint("pattern",this.$element.attr("pattern"),void 0,!0),"undefined"!=typeof this.$element.attr("min")&&"undefined"!=typeof this.$element.attr("max")?this.addConstraint("range",[this.$element.attr("min"),this.$element.attr("max")],void 0,!0):"undefined"!=typeof this.$element.attr("min")?this.addConstraint("min",this.$element.attr("min"),void 0,!0):"undefined"!=typeof this.$element.attr("max")&&this.addConstraint("max",this.$element.attr("max"),void 0,!0);var b=this.$element.attr("type");return"undefined"==typeof b?this:"number"===b?this.addConstraint("type","integer",void 0,!0):new RegExp(b,"i").test("email url range")?this.addConstraint("type",b,void 0,!0):this},_isRequired:function(){return"undefined"==typeof this.constraintsByName.required?!1:!1!==this.constraintsByName.required.requirements},_getConstraintsSortedPriorities:function(){for(var d=[],c=0;c<this.constraints.length;c++){-1===d.indexOf(this.constraints[c].priority)&&d.push(this.constraints[c].priority)}return d.sort(function(f,e){return e-f}),d}};var s=function(){this.__class__="ParsleyFieldMultiple"};s.prototype={addElement:function(b){return this.$elements.push(b),this},refreshConstraints:function(){var a;if(this.constraints=[],this.$element.is("select")){return this.actualizeOptions()._bindConstraints(),this}for(var f=0;f<this.$elements.length;f++){if(D("html").has(this.$elements[f]).length){a=this.$elements[f].data("ParsleyFieldMultiple").refreshConstraints().constraints;for(var e=0;e<a.length;e++){this.addConstraint(a[e].name,a[e].requirements,a[e].priority,a[e].isDomConstraint)}}else{this.$elements.splice(f,1)}}return this},getValue:function(){if("undefined"!=typeof this.options.value){return this.options.value}if(this.$element.is("input[type=radio]")){return D("["+this.options.namespace+'multiple="'+this.options.multiple+'"]:checked').val()||""}if(this.$element.is("input[type=checkbox]")){var a=[];return D("["+this.options.namespace+'multiple="'+this.options.multiple+'"]:checked').each(function(){a.push(D(this).val())}),a.length?a:[]}return this.$element.is("select")&&null===this.$element.val()?[]:this.$element.val()},_init:function(b){return this.$elements=[this.$element],this.options.multiple=b,this}};var r=D({}),q={};D.listen=function(b){if("undefined"==typeof q[b]&&(q[b]=[]),"function"==typeof arguments[1]){return q[b].push({fn:arguments[1]})}if("object"==typeof arguments[1]&&"function"==typeof arguments[2]){return q[b].push({fn:arguments[2],ctxt:arguments[1]})}throw new Error("Wrong parameters")},D.listenTo=function(e,d,f){if("undefined"==typeof q[d]&&(q[d]=[]),!(e instanceof t||e instanceof v)){throw new Error("Must give Parsley instance")}if("string"!=typeof d||"function"!=typeof f){throw new Error("Wrong parameters")}q[d].push({instance:e,fn:f})},D.unsubscribe=function(e,d){if("undefined"!=typeof q[e]){if("string"!=typeof e||"function"!=typeof d){throw new Error("Wrong arguments")}for(var f=0;f<q[e].length;f++){if(q[e][f].fn===d){return q[e].splice(f,1)}}}},D.unsubscribeTo=function(e,d){if("undefined"!=typeof q[d]){if(!(e instanceof t||e instanceof v)){throw new Error("Must give Parsley instance")}for(var f=0;f<q[d].length;f++){if("undefined"!=typeof q[d][f].instance&&q[d][f].instance.__id__===e.__id__){return q[d].splice(f,1)}}}},D.unsubscribeAll=function(b){"undefined"!=typeof q[b]&&delete q[b]},D.emit=function(f,e){if("undefined"!=typeof q[f]){for(var h=0;h<q[f].length;h++){if("undefined"!=typeof q[f][h].instance){if(e instanceof t||e instanceof v){if(q[f][h].instance.__id__!==e.__id__){if(q[f][h].instance instanceof v&&e instanceof t){for(var g=0;g<q[f][h].instance.fields.length;g++){if(q[f][h].instance.fields[g].__id__===e.__id__){q[f][h].fn.apply(r,Array.prototype.slice.call(arguments,1));continue}}}}else{q[f][h].fn.apply(r,Array.prototype.slice.call(arguments,1))}}}else{q[f][h].fn.apply("undefined"!=typeof q[f][h].ctxt?q[f][h].ctxt:r,Array.prototype.slice.call(arguments,1))}}}},D.subscribed=function(){return q},window.ParsleyConfig=window.ParsleyConfig||{},window.ParsleyConfig.i18n=window.ParsleyConfig.i18n||{},window.ParsleyConfig.i18n.en=D.extend(window.ParsleyConfig.i18n.en||{},{defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",number:"This value should be a valid number.",integer:"This value should be a valid integer.",digits:"This value should be digits.",alphanum:"This value should be alphanumeric."},notblank:"This value should not be blank.",required:"This value is required.",pattern:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or fewer.",length:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or fewer.",check:"You must select between %s and %s choices.",equalto:"This value should be the same."}),"undefined"!=typeof window.ParsleyValidator&&window.ParsleyValidator.addCatalog("en",window.ParsleyConfig.i18n.en,!0);var p=function(f,b,a){if(this.__class__="Parsley",this.__version__="2.0.5",this.__id__=C.hash(4),"undefined"==typeof f){throw new Error("You must give an element")}if("undefined"!=typeof a&&"ParsleyForm"!==a.__class__){throw new Error("Parent instance must be a ParsleyForm instance")}return this.init(D(f),b,a)};p.prototype={init:function(b,h,g){if(!b.length){throw new Error("You must bind Parsley on an existing element.")}if(this.$element=b,this.$element.data("Parsley")){var c=this.$element.data("Parsley");return"undefined"!=typeof g&&(c.parent=g),c}return this.OptionsFactory=new w(B,C.get(window,"ParsleyConfig")||{},h,this.getNamespace(h)),this.options=this.OptionsFactory.get(this),this.$element.is("form")||C.attr(this.$element,this.options.namespace,"validate")&&!this.$element.is(this.options.inputs)?this.bind("parsleyForm"):this.$element.is(this.options.inputs)&&!this.$element.is(this.options.excluded)?this.isMultiple()?this.handleMultiple(g):this.bind("parsleyField",g):this},isMultiple:function(){return this.$element.is("input[type=radio], input[type=checkbox]")&&"undefined"==typeof this.options.multiple||this.$element.is("select")&&"undefined"!=typeof this.$element.attr("multiple")},handleMultiple:function(l){var k,j,i,b=this;if(this.options=D.extend(this.options,l?l.OptionsFactory.get(l):{},C.attr(this.$element,this.options.namespace)),this.options.multiple?j=this.options.multiple:"undefined"!=typeof this.$element.attr("name")&&this.$element.attr("name").length?j=k=this.$element.attr("name"):"undefined"!=typeof this.$element.attr("id")&&this.$element.attr("id").length&&(j=this.$element.attr("id")),this.$element.is("select")&&"undefined"!=typeof this.$element.attr("multiple")){return this.bind("parsleyFieldMultiple",l,j||this.__id__)}if("undefined"==typeof j){return window.console&&window.console.warn&&window.console.warn("To be binded by Parsley, a radio, a checkbox and a multiple select input must have either a name or a multiple option.",this.$element),this}if(j=j.replace(/(:|\.|\[|\]|\$)/g,""),"undefined"!=typeof k&&D('input[name="'+k+'"]').each(function(){D(this).is("input[type=radio], input[type=checkbox]")&&D(this).attr(b.options.namespace+"multiple",j)}),D("["+this.options.namespace+"multiple="+j+"]").length){for(var a=0;a<D("["+this.options.namespace+"multiple="+j+"]").length;a++){if("undefined"!=typeof D(D("["+this.options.namespace+"multiple="+j+"]").get(a)).data("Parsley")){i=D(D("["+this.options.namespace+"multiple="+j+"]").get(a)).data("Parsley"),this.$element.data("ParsleyFieldMultiple")||(i.addElement(this.$element),this.$element.attr(this.options.namespace+"id",i.__id__));break}}}return this.bind("parsleyField",l,j,!0),i||this.bind("parsleyFieldMultiple",l,j)},getNamespace:function(b){return"undefined"!=typeof this.$element.data("parsleyNamespace")?this.$element.data("parsleyNamespace"):"undefined"!=typeof C.get(b,"namespace")?b.namespace:"undefined"!=typeof C.get(window,"ParsleyConfig.namespace")?window.ParsleyConfig.namespace:B.namespace},bind:function(j,i,d,b){var a;switch(j){case"parsleyForm":a=D.extend(new v(this.$element,this.OptionsFactory),new A,window.ParsleyExtend)._bindFields();break;case"parsleyField":a=D.extend(new t(this.$element,this.OptionsFactory,i),new A,window.ParsleyExtend);break;case"parsleyFieldMultiple":a=D.extend(new t(this.$element,this.OptionsFactory,i),new A,new s,window.ParsleyExtend)._init(d);break;default:throw new Error(j+"is not a supported Parsley type")}return"undefined"!=typeof d&&C.setAttr(this.$element,this.options.namespace,"multiple",d),"undefined"!=typeof b?(this.$element.data("ParsleyFieldMultiple",a),a):(new RegExp("ParsleyF","i").test(a.__class__)&&(this.$element.data("Parsley",a),D.emit("parsley:"+("parsleyForm"===j?"form":"field")+":init",a)),a)}},D.fn.parsley=D.fn.psly=function(a){if(this.length>1){var d=[];return this.each(function(){d.push(D(this).parsley(a))}),d}return D(this).length?new p(this,a):void (window.console&&window.console.warn&&window.console.warn("You must bind Parsley on an existing element."))},window.ParsleyUI="function"==typeof C.get(window,"ParsleyConfig.ParsleyUI")?(new window.ParsleyConfig.ParsleyUI).listen():(new x).listen(),"undefined"==typeof window.ParsleyExtend&&(window.ParsleyExtend={}),"undefined"==typeof window.ParsleyConfig&&(window.ParsleyConfig={}),window.Parsley=window.psly=p,window.ParsleyUtils=C,window.ParsleyValidator=new y(window.ParsleyConfig.validators,window.ParsleyConfig.i18n),!1!==C.get(window,"ParsleyConfig.autoBind")&&D(document).ready(function(){D("[data-parsley-validate]").length&&D("[data-parsley-validate]").parsley()})});
/*! Tappy! - a lightweight normalized tap event. Copyright 2013 @scottjehl, Filament Group, Inc. Licensed MIT */
(function(c,f,g){c.tapHandling=false;var d=function(h){return h.each(function(){var s=f(this),m,p,q,r,i=10;function k(t){f(t.target).trigger("tap",[t,f(t.target).attr("href")]);t.stopImmediatePropagation()}function o(v){var t=v.originalEvent||v,u=t.touches||t.targetTouches;if(u){return[u[0].pageX,u[0].pageY]}else{return null}}function j(u){if(u.touches&&u.touches.length>1||u.targetTouches&&u.targetTouches.length>1){return false}var t=o(u);q=t[0];p=t[1]}function l(u){if(!r){var t=o(u);if(t&&(Math.abs(p-t[1])>i||Math.abs(q-t[0])>i)){r=true}}}function n(t){clearTimeout(m);m=setTimeout(function(){c.tapHandling=false;r=false},1000);if((t.which&&t.which>1)||t.shiftKey||t.altKey||t.metaKey||t.ctrlKey){return}t.preventDefault();if(r||c.tapHandling&&c.tapHandling!==t.type){r=false;return}c.tapHandling=t.type;k(t)}s.bind("touchstart.tappy MSPointerDown.tappy",j).bind("touchmove.tappy MSPointerMove.tappy",l).bind("touchend.tappy MSPointerUp.tappy",n).bind("click.tappy",n)})};var a=function(h){return h.unbind(".tappy")};if(f.event&&f.event.special){f.event.special.tap={add:function(h){d(f(this))},remove:function(h){a(f(this))}}}else{var b=f.fn.bind,e=f.fn.unbind;f.fn.bind=function(h){if(/(^| )tap( |$)/.test(h)){d(this)}return b.apply(this,arguments)};f.fn.unbind=function(h){if(/(^| )tap( |$)/.test(h)){a(this)}return e.apply(this,arguments)}}}(this,jQuery));(function(){$("html").addClass("transitions");function c(){$("a.tappilyTap").bind("tap",function(g){window.location=g.target.href})}function f(){var g=$(".js-tapTarget");if(g.length){g.bind("tap",function(){var h=$(this);window.location=h.find("a.js-tapSrc").attr("href")})}}function a(){$(".jumper").bind("tap",function(h){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var g=$(this.hash);g=g.length&&g||jQuery("[name="+this.hash.slice(1)+"]");if(g.length){var i=g.offset().top-24;$("html,body").animate({scrollTop:i},400)}}})}function e(){if($(".m-toggled").length){var h=$(".m-toggled");h.each(function(){var j=$(this);if(j.is("ul")){var i=j.clone(true);i.find("li").slice(1).wrapAll('<li class="m-toggled__elem s-is-hidden"><ul></ul></li>');i.find("li:eq(0) > *").addClass("a-toggled__toggler");j.replaceWith(i)}});var g=$(".m-toggled__elem").prev();g.bind("tap",function(){$this=$(this);var j=$this.parent(".m-toggled");var i=$this.next(".m-toggled__elem");j.toggleClass("s-is-active");i.slideToggle("fast").removeClass("s-is-hidden")})}}function b(){if($(".m-expand-section").length){var h=$(".m-expand-section");var g=h.innerHeight();var i=h.attr("data-divide-by");var j=h.attr("data-expand-text");var k=$('<button class="a-expand-section__button">'+j+"</button>");h.css("max-height",g/i);k.insertAfter(h);k.bind("tap",function(){$this=$(this);$this.prev(h).css("max-height",g).addClass("s-is-expanded");$this.addClass("s-is-hidden")})}}function d(){if($(".m-form").length){function g(){$("input:checked").parent(".a-label").addClass("s-is-checked");$("input:disabled").parent(".a-label").addClass("s-is-disabled");$('form[role="form"]').on("click",".a-label.checkbox, .a-label.radio",function(){$this=$(this);if($this.children().is(":disabled")){return false}var h=$this.children("input:checkbox");if(h.length){if(h.is(":checked")){$this.addClass("s-is-checked")}else{$this.removeClass("s-is-checked")}}else{var i=$this.siblings();i.removeClass("s-is-checked");$this.addClass("s-is-checked")}})}g()}}c();a();e();b();d()})();